(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{186:function(e,t,n){e.exports=n.p+"static/media/clockwise.942198c7.svg"},187:function(e,t,n){e.exports=n.p+"static/media/counter-clockwise.d21e64eb.svg"},190:function(e,t,n){e.exports=n.p+"static/media/fiene.bd1a0420.png"},194:function(e,t,n){e.exports=n(470)},469:function(e,t,n){},470:function(e,t,n){"use strict";n.r(t);n(195),n(209),n(213),n(224),n(226);var r=n(0),a=n.n(r),o=n(182),i=n.n(o),l=n(2),u=n(4),c=n(10),s=n(14),d=n(3);function f(e){return e.reduce(function(e,t){return(e[t.id]=t)&&e},{})}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Array.isArray(e))throw new Error("First argument should be an Array");if("function"!==typeof t)throw new Error("Second argument should be a Function");var r=e.reduce(function(e,n){var r=e[e.length-1]||[],a=Object(c.a)(r,2),o=a[0],i=a[1],l=t(n);return l!==o?e.push([l,[n]]):i.push(n),e},[]);return n?r:r.filter(function(e){return null!=e[0]})}function h(e,t){return e.reduce(function(e,n){var r=t(n);return(e[r]||(e[r]=[])).push(n),e},{})}function m(e,t){return e>t?1:e<t?-1:0}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e},a=e.reduce(function(e,r){var a=Object(c.a)(e,2)[1],o=n(r);return null==o?e:null==a||t(o,a)>0?[r,o]:e},[null,null]);return r(Object(c.a)(a,1)[0])}function y(e){return p(e,m,arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e})}function g(e){return y(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e})}function b(e){if(!Array.isArray(e)||0===e.length||e.some(function(e){return!Array.isArray(e)}))throw new Error("Argument should be an Array of exclusively other Arrays");for(var t=function(e,t){return y(e,t,t)}(e,function(e){return e.length}),n=[],r=0;r<t;r++)for(var a=0;a<e.length;a++)(n[r]||(n[r]=[]))[a]=e[a][r];return n}var w=function(e){return e.players},O=function(e){return e.activePlayer},E=Object(d.a)(w,function(e){return Object.keys(e).map(function(t){return e[t]})}),M=Object(d.a)(w,O,function(e,t){return e[t]}),j=Object(d.a)(w,function(e){return e.activePlayer%2+1},function(e,t){return e[t]}),A=Object(d.a)(M,function(e){return e.isAI}),S=n(185),I=n.n(S),k=5,C=6,N=3,T=Math.floor(C/N,10),R=[];["red","orange","yellow","green","blue","purple","pink"].forEach(function(e){return R.push(I()({hue:e,luminosity:"bright"}))});var L=R,P=Object(d.a)(function(e){return e.cells},function(e){return Object.keys(e).map(function(t){return e[t]})}),D=function(e,t){return e.cells[t]},_=Object(d.a)(P,function(e){return e.filter(function(e){return null==e.player})}),x=Object(d.a)(P,function(e){return e.sort(function(e,t){return e.row>t.row?1:e.row<t.row?-1:e.col>t.col?1:e.col<t.col?-1:0})}),Q=Object(d.a)(x,function(e){return e.reduce(function(e,t){return(e[t.row]||(e[t.row]=[])).push(t)&&e},[])}),B=Object(d.a)(x,function(e){return e.reduce(function(e,t){return(e[t.col]||(e[t.col]=[])).push(t)&&e},[])}),F=Object(d.a)(x,function(e){return[h(e,function(e){return e.row-e.col}),h(e,function(e){return e.row+e.col})].reduce(function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=t[r[n]];e.push(a)}return e},[])});function q(e,t){if(!t)return null;var n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var l=G(o.value,t);if(l)return l}}catch(u){r=!0,a=u}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return null}var V=Object(d.a)(Q,B,F,E,function(e,t,n,r){var a={},o=[].concat(Object(s.a)(e),Object(s.a)(t),Object(s.a)(n)),i=!0,l=!1,u=void 0;try{for(var c,d=r[Symbol.iterator]();!(i=(c=d.next()).done);i=!0){var f=c.value;a[f.id]=q(o,f.id)}}catch(v){l=!0,u=v}finally{try{i||null==d.return||d.return()}finally{if(l)throw u}}return a});function G(e,t){return v(e,function(e){return e.player===t}).filter(function(e){return e[0]}).map(function(e){return e[1]}).find(function(e){return e.length>=k})}var H=function(e){return[e*N,(e+1)*N-1]},U=function(e){return H(e)},W=function(e){return H(e)};function J(e,t,n){var r=U(e),a=Object(c.a)(r,2),o=a[0],i=a[1],l=W(t),u=Object(c.a)(l,2),s=u[0],d=u[1];return v(n.filter(function(e){return e.row>=o&&e.row<=i&&e.col>=s&&e.col<=d}),function(e){return e.row}).map(function(e){return e[1]})}var Y=Object(d.a)(x,function(e){for(var t=[],n=0;n<T;n++)for(var r=0;r<T;r++)t.push(J(n,r,e));return t}),K=Object(d.a)(x,function(e){for(var t=[],n=0;n<T;n++){for(var r=[],a=0;a<T;a++)r.push(J(n,a,e));t.push(r)}return t});function $(e,t){return(t?function(e){return b(e.reverse())}:function(e){return b(e.map(function(e){return e.reverse()}))})(e)}var z=function(e,t,n){return Object(d.a)(function(e,t){return Object(d.a)(x,function(n){return J(e,t,n)})}(e,t),function(r){for(var a=$(r,n),o=U(e),i=Object(c.a)(o,1)[0],l=W(t),u=Object(c.a)(l,1)[0],s={},d=0;d<a.length;d++)for(var f=a[d],v=0;v<f.length;v++){var h=a[d][v];s[h.id]=Object.assign({},h,{row:d+i,col:v+u})}return s})},X=Object(d.a)(E,Q,B,F,function(e,t,n,r){var a=[].concat(Object(s.a)(t),Object(s.a)(n),Object(s.a)(r)),o={},i=!0,l=!1,u=void 0;try{for(var c,d=e[Symbol.iterator]();!(i=(c=d.next()).done);i=!0){var f=c.value,v={},h=!0,m=!1,p=void 0;try{for(var y,g=a[Symbol.iterator]();!(h=(y=g.next()).done);h=!0){var b=Z(y.value,f);if(b&&0!==b.length){var w=!0,O=!1,E=void 0;try{for(var M,j=b[Symbol.iterator]();!(w=(M=j.next()).done);w=!0){var A=M.value;(v[A.length]||(v[A.length]=[])).push(A)}}catch(S){O=!0,E=S}finally{try{w||null==j.return||j.return()}finally{if(O)throw E}}}}}catch(S){m=!0,p=S}finally{try{h||null==g.return||g.return()}finally{if(m)throw p}}o[f.id]=v}}catch(S){l=!0,u=S}finally{try{i||null==d.return||d.return()}finally{if(l)throw u}}return o});function Z(e,t){if(function(e,t){return v(e,function(e){return null==e.player||e.player===t.id||null}).map(function(e){return e[1]}).reduce(function(e,t){return t&&t.length>e?t.length:e},0)}(e,t)<k)return null;var n=v(e,function(e){return null==e.player||e.player!==t.id&&null});return n.reduce(function(t,r){var a=Object(c.a)(r,2),o=a[0],i=a[1],l=i[0],u=e.indexOf(l),d=i[i.length-1],f=o&&n.indexOf(r)===n.length-1,v=t[t.length-1];if(v){var h=v.every(function(e){return null==e.player}),m=v[v.length-1],p=e.indexOf(m);if(Math.abs(u-p)>1)h&&t.pop(),f||t.push(i);else if(o)if(h)t.pop(),f||t.push(i);else{if(v.some(function(e){return null==e.player})){var y=v.findIndex(function(e){return null==e.player});t.push([].concat(Object(s.a)(v.slice(y+1)),[l]))}else v.push(l);l===d||f||t.push(i)}else if(v.some(function(e){return null!=e.player})){var g=!0,b=!1,w=void 0;try{for(var O,E=i[Symbol.iterator]();!(g=(O=E.next()).done);g=!0){var M=O.value;v.push(M)}}catch(j){b=!0,w=j}finally{try{g||null==E.return||E.return()}finally{if(b)throw w}}}else t.pop(),t.push([m].concat(Object(s.a)(i)))}else f||t.push(i);return t},[])}function ee(e,t,n){var r={2:1,3:10,4:100,5:1e3,6:1e4,fillQuadrantMultiplier:4,noFriendliesAround:.25},a={points:0,wins:!1},o=Object.keys(t[n.id]).map(function(e){return parseInt(e,10)}),i=!0,l=!1,u=void 0;try{for(var c,s=o[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var d=c.value,f=r[d],h=t[n.id][d],m=!0,p=!1,y=void 0;try{for(var g,b=function(){var t=g.value,o=1,i=t.find(function(e){return null==e.player});if(i){var l=N;v(t,function(e){return"".concat(Math.floor(e.row/l)).concat(Math.floor(e.col/l))}).map(function(e){return e[1]}).find(function(e){return e.indexOf(i)>-1}).length===N&&(o*=r.fillQuadrantMultiplier);var u=te(i,e),c=re(i);u.some(function(e){return re(e)===c&&e.player===n.id})||(o*=r.noFriendliesAround)}else f=r[d+1];a.points+=f*o,(d>k||d===k&&!i)&&(a.wins=!0)},w=h[Symbol.iterator]();!(m=(g=w.next()).done);m=!0)b()}catch(V){p=!0,y=V}finally{try{m||null==w.return||w.return()}finally{if(p)throw y}}}}catch(V){l=!0,u=V}finally{try{i||null==s.return||s.return()}finally{if(l)throw u}}for(var O=-1,E=0,M=1,j=4,A=1.5,S=0;S<e.length;S++)for(var I=e[S],C=0;C<I.length;C++){var T=I[C];if(null!=T.player&&T.player===n.id){var R=re(T),L=te(T,e),P=N*N-L.length;a.points+=P*O;var D=!0,_=!1,x=void 0;try{for(var Q,B=L[Symbol.iterator]();!(D=(Q=B.next()).done);D=!0){var F=Q.value,q=R===re(F)?A:1;null==F.player?a.points+=M*q:F.player===n.id?a.points+=j*q:F.player!==n.id&&(a.points+=E)}}catch(V){_=!0,x=V}finally{try{D||null==B.return||B.return()}finally{if(_)throw x}}}}return a}function te(e,t){return[{row:e.row,col:e.col-1},{row:e.row,col:e.col+1},{row:e.row-1,col:e.col},{row:e.row+1,col:e.col},{row:e.row-1,col:e.col-1},{row:e.row-1,col:e.col+1},{row:e.row+1,col:e.col-1},{row:e.row+1,col:e.col+1}].reduce(function(e,n){var r=n.row,a=n.col;return r>=0&&r<C&&a>=0&&a<C&&e.push(t[r][a]),e},[])}var ne=Object(d.a)(Q,X,E,function(e,t,n){var r,a={},o=!0,i=!1,l=void 0;try{for(var c,s=n[Symbol.iterator]();!(o=(c=s.next()).done);o=!0){var d=c.value;a[d.id]=ee(e,t,d)}}catch(g){i=!0,l=g}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}var f=n[0],v=n[1],h=a[f.id].points,m=a[f.id].wins,p=a[v.id].points,y=a[v.id].wins;return r={},Object(u.a)(r,f.id,{points:h-p,pointsOne:h,wins:m}),Object(u.a)(r,v.id,{points:p-h,pointsTwo:p,wins:y}),r});function re(e){var t=Math.floor(e.row/N),n=Math.floor(e.col/N);return t*T+n}var ae,oe,ie=[];function le(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){var r=n();if(r.gameOver)return{cellId:null,rotation:null};ae=M(r),oe=j(r),ie=function(e){var t=[];t.push(de(e));for(var n=0;n<T;n++)for(var r=0;r<T;r++)for(var a=0,o=[!0,!1];a<o.length;a++){var i=o[a],l={row:n,column:r,clockwise:i};t.push(de(e,l))}return t}(n);var a=null;if(r.canPickCell){var o=!0,i=!1,l=void 0;try{for(var u,c=fe[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){if(null!=(a=(0,u.value)(n)))break}}catch(s){i=!0,l=s}finally{try{o||null==c.return||c.return()}finally{if(i)throw l}}}else a={rotation:ge(n)};return e&&t({type:ue,move:a}),a}}var ue="COMPUTED_MOVE";var ce="HIDE_COMPUTED_MOVE";function se(){return function(e,t){var n=t(),r=n.ui.computedMove||le(!1)(e,t),a=r.cellId,o=r.rotation,i=!1;if(null!=a&&(i=e(Ce(a,ae.id))),!i&&null!=o){var l=o.row,u=o.column,c=o.clockwise;n.options.animationsEnabled?e(Be(l,u,c)):e(qe(l,u,c))}}}function de(e,t){var n,r=e();if(t){var a=z(t.row,t.column,t.clockwise)(r);n=Object.assign({},r.cells,a)}else n=Object.assign({},r.cells);var o=Object.assign({},r,{cells:Object.assign({},r.cells,n)});return{cells:n,metadata:function(e){return X(e())}(function(){return o}),rotation:t}}var fe=[me,function(e){var t=(me(e,{player:oe,doAsPlayer:ae,boardsToConsider:ie.filter(function(e){return!e.rotation})})||{}).cellId;return null==t?ye(me,e):{cellId:t,rotation:ge(e,t)}},function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).player;return he(e,{player:void 0===t?ae:t,requiresFullQuadrant:!0})},function(e){return he(e,{player:oe,doAsPlayer:ae,requiresFullQuadrant:!0})},pe,function(e){return ye(pe,e)},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae.id,n=ge(e),r=ve(n),a=Y({cells:r.cells}).map(function(e){return e[Math.floor(e.length/2)][Math.floor(e.length/2)]}),o=a.filter(function(e){return null!=t&&e.player===t}),i=a.filter(function(e){return null==e.player});if(i.length>0){var l=i.filter(function(e){return 0===o.length||o.some(function(t){return e.row===t.row||e.col===t.col})}),u=l[Math.floor(Math.random()*l.length)];return{cellId:(u=u||i[Math.floor(Math.random()*i.length)]).id,rotation:n}}return null},function(e){return he(e,{min:2})},function(e){var t=ge(e),n=ve(t),r=_({cells:n.cells});if(0===r.length)return;return{cellId:r[Math.floor(Math.random()*r.length)].id,rotation:t}}];function ve(e){var t=e.row,n=e.column,r=e.clockwise;return ie.find(function(a){return a.rotation===e||null!=a.rotation&&a.rotation.row===t&&a.rotation.column===n&&a.rotation.clockwise===r})}function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.player,r=void 0===n?ae:n,a=t.doAsPlayer,o=void 0===a?ae:a,i=t.min,l=void 0===i?3:i,c=t.requiresFullQuadrant,s=void 0!==c&&c,d=t.requiresRotation,f=void 0===d||d,h=t.boardsToConsider,m=void 0===h?ie:h,p=(t.lookahead,{score:null,cellId:null,rotation:null}),y=!0,b=!1,w=void 0;try{for(var O,E=function(){var t=O.value,n=t.rotation;if(!n&&f)return"continue";var a=t.metadata[r.id];if(s){for(var i=Object.keys(a),c={},d=0,h=i;d<h.length;d++){var m=h[d],y=a[m],b=!0,w=!1,E=void 0;try{for(var M,j=function(){var e=M.value,t=e.find(function(e){return null==e.player}),n=N,r=v(e,function(e){return"".concat(Math.floor(e.row/n)).concat(Math.floor(e.col/n))}).map(function(e){return e[1]}).find(function(e){return e.indexOf(t)>-1});r&&r.length===N&&(c[m]||(c[m]=[])).push(e)},A=y[Symbol.iterator]();!(b=(M=A.next()).done);b=!0)j()}catch(L){w=!0,E=L}finally{try{b||null==A.return||A.return()}finally{if(w)throw E}}}a=c}var S=g(Object.keys(a).filter(function(e){return e>=l})),I=null,k=null;S&&(I=(k=g(function(e){var t,n,r,a=Array.from(e);for(r=a.length;r;r--)t=Math.floor(Math.random()*r),n=a[r-1],a[r-1]=a[t],a[t]=n;return a}(a[S]),function(n){var r=n.find(function(e){return null==e.player});if(!r)return null;var a=Object.assign({},e(),{cells:Object.assign({},t.cells,Object(u.a)({},r.id,Object.assign({},t.cells[r.id],{player:o.id})))});return ne(a)[o.id].points}))&&k.find(function(e){return null==e.player}));if(I){var C=Object.assign({},e(),{cells:Object.assign({},t.cells,Object(u.a)({},I.id,Object.assign({},t.cells[I.id],{player:o.id})))}),T=ne(C)[o.id],R=T.points;T.wins;(null==p.score||R>p.score||R===p.score&&Math.random()>.5)&&(p={cellId:I.id,score:R,rotation:n})}},M=m[Symbol.iterator]();!(y=(O=M.next()).done);y=!0)E()}catch(j){b=!0,w=j}finally{try{y||null==M.return||M.return()}finally{if(b)throw w}}if(null!=p.cellId)return{cellId:p.cellId,rotation:p.rotation}}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.player,r=void 0===n?ae:n,a=t.boardsToConsider,o=void 0===a?ie:a,i=t.lookahead;return he(e,{min:k,player:r,requiresRotation:!1,boardsToConsider:o,lookahead:void 0===i||i})}function pe(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).player;return he(e,{min:4,player:void 0===t?ae:t})}function ye(e,t,n){var r=e(t,Object.assign({},n,{player:oe}));if(!r)return null;var a=r.cellId;return{cellId:a,rotation:ge(t,a)}}function ge(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={points:null,rotation:null},r=!0,a=!1,o=void 0;try{for(var i,l=ie[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var c=i.value,s=c.rotation;if(s){var d=Object.assign({},e(),{cells:Object.assign({},c.cells,null==t?null:Object(u.a)({},t,Object.assign({},c.cells[t],{player:ae.id})))}),f=ne(d)[ae.id],v=f.points;f.wins;(null==n.points||v>n.points||v===n.points&&Math.random()>.5)&&(n={points:v,rotation:s})}}}catch(m){a=!0,o=m}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}if(n.rotation)return n.rotation;var h=ie.filter(function(e){return null!=e.rotation});return h[Math.floor(Math.random()*h.length)].rotation}var be="SET_PLAYER_NAME";var we="SET_PLAYER_AI";var Oe="TOGGLE_OPTIONS";function Ee(){return{type:Oe}}var Me="SET_AI_MOVE_DELAY";var je="SET_AUTOMATIC_RESTART";var Ae="SET_ANIMATIONS_ENABLED";var Se="SET_ANIMATION_DURATION";var Ie="SET_SHOW_LOAD_SAVE_BUTTONS";var ke="SET_FIENE_MODE";function Ce(e,t){return function(n,r){var a=function(e,t,n){var r=null,a=e(),o=D(e(),t);a.gameOver?r="The game has ended":o?null!=o.player&&(r="Cell (".concat(o.row,", ").concat(o.col,") is not empty!")):r="Cell #".concat(o.id," does not exist!");return r}(r,e);if(a)return n({type:Ve,error:a});if(n(function(e,t,n){return{type:Ne,cellId:e,playerId:t,color:n}}(e,t,r().ui.cellColor)),r().options.fieneMode){var o=function(e,t){var n=D(e,t);return{row:Math.floor(n.row/N),column:Math.floor(n.col/N)}}(r(),e);n(Be(o.row,o.column,e%2===0))}return n(Je(ne(r()))),Te(n,r)}}var Ne="PICK_CELL";function Te(e,t){var n=t(),r=!1;if(!n.options.fieneMode){var a=E(n),o=V(n),i=[],l=!0,u=!1,c=void 0;try{for(var s,d=a[Symbol.iterator]();!(l=(s=d.next()).done);l=!0){var f=s.value,v=o[f.id];v&&i.push({player:f,winningCells:v})}}catch(p){u=!0,c=p}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}if(i.length>0){var h=i.reduce(function(e,t){return e.concat(t.winningCells)},[]);e({type:Pe,cells:h})}if(1===i.length){var m=i[0].player;return e(function(e){return{type:Le,player:e}}(m.id)),n.options.automaticRestart&&setTimeout(function(){return e(_e())},500),!0}r=i.length===a.length}r||(r=0===_(n).length);return!!r&&(e({type:Re}),n.options.automaticRestart&&setTimeout(function(){return e(_e())},500),!0)}var Re="DRAW";var Le="PLAYER_WON";var Pe="WINNING_CELLS";var De="RESTART_GAME";function _e(){return function(e,t){e({type:De}),e(Ue())}}var xe="SELECT_QUADRANT";var Qe="ANIMATE_QUADRANT";function Be(e,t,n){return function(r,a){if(a().options.animationsEnabled){r({type:Qe,row:e,column:t,clockwise:n});var o=a().options.animationDuration;setTimeout(function(){return r(qe(e,t,n))},o)}else r(qe(e,t,n))}}var Fe="ROTATE_QUADRANT";function qe(e,t,n){return function(r,a){r(function(e,t,n){return{type:Fe,row:e,column:t,clockwise:n}}(e,t,n)),r(Je(ne(a())));var o=Te(r,a);return o||r(Ue()),o}}var Ve="SHOW_ERROR";var Ge="HIDE_ERROR";var He="BEGIN_TURN";function Ue(){return function(e,t){e({type:He});var n=t(),r=M(n);if(r&&r.isAI){var a=n.options.aiMoveDelay;setTimeout(function(){return e(se())},a)}}}var We="UPDATE_SCORES";function Je(e){return{type:We,scores:e}}var Ye="SHOW_LAST_MOVE";var Ke="HIDE_LAST_MOVE";var $e="SAVE_TO_STORAGE";var ze="LOAD_FROM_STORAGE";var Xe="CLEAR_STORAGE";for(var Ze=Object(l.connect)(function(e,t){return{activePlayerId:e.activePlayer,lastMove:e.lastMove,isEnabled:!e.ui.showLastMove&&!e.draw&&e.canPickCell&&null==t.cell.player&&M(e)&&!M(e).isAI,canRotateQuadrant:!e.draw&&e.canRotateQuadrant,isWinningCell:e.ui.winningCells.some(function(e){return e.id===t.cell.id}),isComputedByAi:e.ui.computedMove&&e.ui.computedMove.cellId===t.cell.id,showLastMove:e.ui.showLastMove,animationsEnabled:e.options.animationsEnabled,animationDuration:e.options.animationDuration,fieneMode:e.options.fieneMode}},{tryPickCell:Ce})(function(e){var t=e.cell,n=e.tryPickCell,r=e.activePlayerId,o=e.lastMove,i=e.isEnabled,l=(e.canRotateQuadrant,e.isWinningCell),u=e.isComputedByAi,c=e.showLastMove,s=e.animationsEnabled,d=e.animationDuration,f=e.fieneMode;return a.a.createElement("span",{style:function(){var e={};if(s){var n=d/1e3;Object.assign(e,{transition:"background-color ".concat(n,"s")})}return f&&t.color&&Object.assign(e,{backgroundColor:t.color}),e}(),className:function(){var e=["cell"];return!f&&t.player?e.push("player-".concat(t.player)):t.color||e.push("empty"),c&&o.cellId===t.id&&e.push("last-move"),l&&e.push("winning"),u&&e.push("ai-preview"),e.join(" ")}(),onClick:i?function(){return n(t.id,r)}:null})}),et=n(186),tt=n.n(et),nt=n(187),rt=n.n(nt),at=n(114),ot=function(e,t,n,r,o,i,l,u,c,s,d){return function(f){var v=f.dangerouslySetInnerHTML,h=f.className;return v?a.a.createElement("span",{dangerouslySetInnerHTML:v,className:function(){var e=["arrow",h];e.push(n?"clockwise":"counter-clockwise"),m(i)&&e.push("ai-preview");c&&m(u)&&e.push("last-rotation");return e.push("player-".concat(l)),e.join(" ")}(),onClick:function(a){if(a.stopPropagation(),c)return!1;if(!s)return!1;d?o(e,t,n):r(e,t,n)}}):null;function m(r){return r&&r.row===e&&r.column===t&&r.clockwise===n}}},it=Object(l.connect)(function(e,t){return{canRotateQuadrant:!e.gameOver&&e.canRotateQuadrant,hasSelectedQuadrant:null!=e.ui.selectedQuadrant.row,isSelected:e.ui.selectedQuadrant.row===t.row&&e.ui.selectedQuadrant.column===t.column,aiRotation:e.ui.computedMove&&e.ui.computedMove.rotation,activePlayerId:e.activePlayer,lastRotation:e.lastMove.rotation,showLastMove:e.ui.showLastMove,quadrantAnimation:e.ui.quadrantAnimation,animationsEnabled:e.options.animationsEnabled,animationDuration:e.options.animationDuration}},{rotateQuadrant:qe,animateQuadrant:Be,selectQuadrant:function(e,t){return{type:xe,row:e,column:t}}})(function(e){var t=e.quadrant,n=e.canRotateQuadrant,r=(e.hasSelectedQuadrant,e.isSelected),o=e.row,i=e.column,l=e.rotateQuadrant,u=e.selectQuadrant,c=e.animateQuadrant,s=e.aiRotation,d=e.activePlayerId,f=e.lastRotation,v=e.showLastMove,h=e.quadrantAnimation,m=e.animationsEnabled,p=e.animationDuration;return a.a.createElement("div",{className:function(){var e=["quadrant"];return r&&e.push("selected"),v&&null!=f&&f.row===o&&f.column===i&&e.push("show-last-move"),s&&s.row===o&&s.column===i&&e.push("ai-preview"),g(h)&&m&&e.push("animating"),e.join(" ")}(),style:function(){if(!m||!g(h))return null;var e=p/1e3;return{transform:"rotate(".concat(h.clockwise?90:-90,"deg)"),transition:"all ".concat(e,"s linear")}}(),onClick:function(e){if(!n)return null;e.stopPropagation(),u(o,i)}},t.map(function(e,t){return e.map(function(e){return a.a.createElement(Ze,{key:"cell-".concat(e.id),cell:e})})}),a.a.createElement("div",{className:"arrows"},a.a.createElement(at.a,{wrapper:ot.apply(null,y(!0)),src:tt.a}),a.a.createElement(at.a,{wrapper:ot.apply(null,y(!1)),src:rt.a})));function y(e){return[o,i,e,l,c,s,d,f,v,r,m]}function g(e){return e&&e.row===o&&e.column===i}}),lt=Object(l.connect)(function(e){return{quadrants:K(e),disableCells:e.gameOver||e.ui.isAnimating||!e.canPickCell||M(e).isAI,enableQuadrants:!e.gameOver&&e.canRotateQuadrant,showLastMove:e.ui.showLastMove}})(function(e){var t=e.quadrants,n=e.disableCells,r=e.enableQuadrants,o=e.showLastMove;return a.a.createElement("div",{className:function(){var e=["board"];return n&&e.push("disable-cells"),r&&e.push("enable-quadrants"),o&&(e.push("show-last-move"),e.push("disable-cells")),e.join(" ")}()},t.map(function(e,t){return e.map(function(e,n){return a.a.createElement(it,{key:"quadrant-".concat(t,"-").concat(n),row:t,column:n,quadrant:e})})}))}),ut=Object(l.connect)(function(e){return{gameOver:e.gameOver,hasPreviousMove:null!=e.lastMove.cellId,showingLastMove:e.ui.showLastMove,showingOptions:e.ui.showOptions,hasComputedMove:null!=e.ui.computedMove,showAIButtons:!e.gameOver,disableAIButtons:!e.gameStarted||e.gameOver||A(e)||e.ui.isAnimating,hasStoredState:e.hasStoredState,showLoadSaveButtons:e.options.showLoadSaveButtons,fieneMode:e.options.fieneMode}},{computeMove:le,hideComputedMove:function(){return{type:ce}},computeAndDoMove:se,showLastMove:function(){return{type:Ye}},hideLastMove:function(){return{type:Ke}},restartGame:_e,toggleOptions:Ee,saveToStorage:function(){return function(e,t){e({type:$e}),window.localStorage.state=JSON.stringify(t())}},loadFromStorage:function(){return{type:ze}},clearStorage:function(){return function(e,t){e({type:Xe}),window.localStorage.removeItem("state")}}})(function(e){var t=e.gameOver,n=e.hasPreviousMove,r=e.showingLastMove,o=e.showingOptions,i=e.hasComputedMove,l=e.showAIButtons,u=e.hasStoredState,c=e.disableAIButtons,s=e.computeMove,d=e.hideComputedMove,f=e.computeAndDoMove,v=e.showLastMove,h=e.hideLastMove,m=e.restartGame,p=e.toggleOptions,y=e.saveToStorage,g=e.clearStorage,b=e.loadFromStorage,w=e.showLoadSaveButtons,O=e.fieneMode;return O&&!t?null:a.a.createElement("div",{className:"controls"},a.a.createElement("div",{className:"buttons"},!O&&n&&a.a.createElement("button",{className:"btn",type:"button",onClick:function(){r?h():v()}},r?"Hide last move":"Show last move"),!O&&t&&a.a.createElement("button",{className:"btn",type:"button",onClick:function(){return m()}},"Restart game"),O&&t&&a.a.createElement("button",{className:"btn",type:"button",onClick:function(){return m()}},"Nog een keer!"),!O&&l&&(i?a.a.createElement("button",{className:"btn",type:"button",onClick:d},"Hide AI move"):a.a.createElement("button",{className:"btn",type:"button",disabled:c,onClick:s},"Compute AI move")),!O&&l&&a.a.createElement("button",{className:"btn",type:"button",disabled:c,onClick:f},"Execute AI move"),!O&&!o&&a.a.createElement("button",{className:"btn",type:"button",onClick:p},"Options"),!O&&w&&a.a.createElement("button",{className:"btn",type:"button",onClick:y},"Save state"),!O&&w&&u&&a.a.createElement("button",{className:"btn",type:"button",onClick:b},"Load state"),!O&&w&&u&&a.a.createElement("button",{className:"btn",type:"button",onClick:g},"Clear state")))}),ct=Object(l.connect)(function(e){return{error:e.error}})(function(e){var t=e.error;return t?a.a.createElement("div",{className:"error"},t):null}),st=n(190),dt=n.n(st),ft=Object(l.connect)(function(e){return{gameStarted:e.gameStarted,gameOver:e.gameOver,activePlayer:M(e),winner:(t=e.winner,Object(d.a)(w,function(e){return e[t]}))(e),fieneMode:e.options.fieneMode};var t})(function(e){var t=e.gameStarted,n=e.gameOver,r=e.activePlayer,o=e.winner,i=e.fieneMode;return t?i?n?a.a.createElement("h2",null,"Afgelopen!"):a.a.createElement("img",{className:"fiene",src:dt.a,alt:"Fiene"}):n||null!=r?n?o?a.a.createElement("h2",null,"".concat(o.name," wins!")):a.a.createElement("h2",null,"It's a draw"):a.a.createElement("h2",null,"Player: ".concat(r.name)):null:a.a.createElement("h1",null,"Pentago")}),vt=Object(l.connect)(function(e){return{gameStarted:e.gameStarted,players:E(e),isVisible:e.ui.showOptions,aiMoveDelay:e.options.aiMoveDelay,automaticRestart:e.options.automaticRestart,animationsEnabled:e.options.animationsEnabled,animationDuration:e.options.animationDuration,showLoadSaveButtons:e.options.showLoadSaveButtons,fieneMode:e.options.fieneMode}},{setPlayerName:function(e,t){return{type:be,playerId:e,name:t}},setPlayerAI:function(e,t){return function(n,r){n({type:we,playerId:e,isAI:t}),t&&O(r())===e&&n(se())}},toggleOptions:Ee,setAIMoveDelay:function(e){return{type:Me,timeout:e}},setAutomaticRestart:function(e){return{type:je,enabled:e}},setAnimationsEnabled:function(e){return{type:Ae,enabled:e}},setAnimationDuration:function(e){return{type:Se,duration:e}},beginTurn:Ue,setShowLoadSaveButtons:function(e){return{type:Ie,show:e}},setFieneMode:function(e){return{type:ke,on:!!e}}})(function(e){var t=e.gameStarted,n=e.players,r=e.isVisible,o=e.aiMoveDelay,i=e.automaticRestart,l=e.animationsEnabled,u=e.animationDuration,c=e.fieneMode,s=e.setPlayerName,d=e.setPlayerAI,f=e.toggleOptions,v=e.setAIMoveDelay,h=e.setAutomaticRestart,m=e.setAnimationsEnabled,p=e.setAnimationDuration,y=e.beginTurn,g=e.setShowLoadSaveButtons,b=e.showLoadSaveButtons,w=e.setFieneMode,O=n.find(function(e){return 1===e.id}),E=n.find(function(e){return 2===e.id});return a.a.createElement("div",{className:function(){var e=["options"];return r&&e.push("visible"),e.join(" ")}()},a.a.createElement("h2",null,"Options"),a.a.createElement("div",{className:"option-columns"},a.a.createElement("div",{className:"option-column"},a.a.createElement("label",{htmlFor:"player-1-name"},"Player 1 name"),a.a.createElement("label",{htmlFor:"player-1-ai"},"Controlled by AI"),a.a.createElement("label",{htmlFor:"player-2-name"},"Player 2 name"),a.a.createElement("label",{htmlFor:"player-2-ai"},"Controlled by AI"),a.a.createElement("label",{htmlFor:"aiMoveDelay"},"AI move delay (ms)"),a.a.createElement("label",{htmlFor:"animationsEnabled"},"Animations enabled"),a.a.createElement("label",{htmlFor:"animationDuration"},"Animation duration (ms)"),a.a.createElement("label",{htmlFor:"automaticRestart"},"Autorestart game"),a.a.createElement("label",{htmlFor:"fieneMode"},"Fiene Mode"),a.a.createElement("label",{htmlFor:"showLoadSaveButtons"},"Show load and save buttons")),a.a.createElement("div",{className:"option-column"},a.a.createElement("input",{type:"text",value:O.name,id:"player-1-name",onChange:function(e){return s(O.id,e.target.value)}}),a.a.createElement("input",{type:"checkbox",id:"player-1-ai",checked:O.isAI,onChange:function(e){return d(O.id,e.target.checked)}}),a.a.createElement("input",{type:"text",value:E.name,id:"player-2-name",onChange:function(e){return s(E.id,e.target.value)}}),a.a.createElement("input",{type:"checkbox",id:"player-2-ai",checked:E.isAI,onChange:function(e){return d(E.id,e.target.checked)}}),a.a.createElement("input",{type:"text",id:"aiMoveDelay",defaultValue:o,onBlur:function(e){return v(parseInt(e.target.value,10))}}),a.a.createElement("input",{type:"checkbox",id:"animationsEnabled",checked:l,onChange:function(e){return m(e.target.checked)}}),a.a.createElement("input",{type:"text",id:"animationDuration",defaultValue:u,onBlur:function(e){return p(parseInt(e.target.value,10))}}),a.a.createElement("input",{type:"checkbox",id:"automaticRestart",checked:i,onChange:function(e){return h(e.target.checked)}}),a.a.createElement("input",{type:"checkbox",id:"fieneMode",checked:c,onChange:function(e){return w(e.target.checked)}}),a.a.createElement("input",{type:"checkbox",id:"showLoadSaveButtons",checked:b,onChange:function(e){return g(e.target.checked)}}))),r&&t?a.a.createElement("button",{type:"button",className:"btn",onClick:f},"Close"):a.a.createElement("button",{type:"button",className:"btn",onClick:function(){f(),y()}},"Start game"))}),ht=Object(l.connect)(function(e){return{players:E(e),score:e.ui.score,fieneMode:e.options.fieneMode}})(function(e){var t=e.score,n=e.players;return e.fieneMode?null:a.a.createElement("div",{className:"score"},a.a.createElement("h2",null,"Score"),a.a.createElement("h3",null,n[0].name," ",t[n[0].id]||0," -"," ",t[n[1].id]||0," ",n[1].name))}),mt=Object(l.connect)(function(e){return{activePlayerId:e.activePlayer,gameOver:e.gameOver,score:e.ui.score,boardScores:e.scores,fieneMode:e.options.fieneMode}})(function(e){var t=e.activePlayerId,n=e.gameOver,r=(e.score,e.boardScores,e.fieneMode);return a.a.createElement("div",{className:function(){var e=["game"];return n&&e.push("game-over"),!r&&t&&e.push("player-".concat(t)),e.join(" ")}()},a.a.createElement("div",{className:"column-center"},a.a.createElement(ft,null),a.a.createElement(lt,null),a.a.createElement(ht,null),a.a.createElement(ut,null),a.a.createElement(ct,null),a.a.createElement(vt,null)))}),pt=n(62),yt=n(191),gt=n.n(yt),bt=n(192),wt=n.n(bt),Ot=Object(pt.createDevTools)(a.a.createElement(wt.a,{toggleVisibilityKey:"ctrl-h",changePositionKey:"ctrl-j"},a.a.createElement(gt.a,null))),Et=function(){return a.a.createElement("div",null,a.a.createElement(mt,null))},Mt=n(7),jt=n(193),At=0,St=[],It=0;It<C;It++)for(var kt=0;kt<C;kt++)St.push({id:At++,row:It,col:kt});var Ct=f(St);var Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:var n=t.cellId,r=t.color,a=e[n];if(null!=a.player)throw new Error("Cell (".concat(a.row,", ").concat(a.col,") is not empty!"));return Object.assign({},e,Object(u.a)({},a.id,Object.assign({},a,{player:t.playerId,color:r})));case Fe:var o=t.row,i=t.column,l=t.clockwise,c=z(o,i,l)({cells:e});return Object.assign({},e,c);case De:return f(St);default:return e}},Tt=f([{id:1,name:"Red",isAI:!0},{id:2,name:"Blue",isAI:!1}]);var Rt=Object(Mt.c)({selectedQuadrant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:var n=t.row,r=t.column;return Object.assign({},{row:n,column:r});case Fe:case De:return{};default:return e}},winningCells:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return t.cells;case De:return[];default:return e}},score:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object.assign({},e,Object(u.a)({},t.player,(e[t.player]||0)+1));default:return e}},computedMove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return t.move;case ce:return null;case Ne:case Fe:case He:return null;default:return e}},showLastMove:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Ye:return!0;case Ke:return!1;default:return e}},showOptions:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Oe:return!e;default:return e}},quadrantAnimation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return{row:t.row,column:t.column,clockwise:t.clockwise};case Fe:case De:return null;default:return e}},isAnimating:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Qe:return!0;case Fe:return!1;default:return e}},cellColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch((arguments.length>1?arguments[1]:void 0).type){case He:case Fe:return L[Math.floor(Math.random()*L.length)];default:return e}}});var Lt=Object(Mt.c)({aiMoveDelay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:var n=t.timeout;return isNaN(n)||"number"!==typeof n?e:n;default:return e}},automaticRestart:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return t.enabled;default:return e}},animationsEnabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return t.enabled;default:return e}},animationDuration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:var n=t.duration;return isNaN(n)||"number"!==typeof n?e:n;default:return e}},showLoadSaveButtons:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return t.show;default:return e}},fieneMode:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return t.on;default:return e}}}),Pt=Object(Mt.c)({cells:Nt,players:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:var n=t.playerId,r=t.name;return Object.assign({},e,Object(u.a)({},n,Object.assign({},e[n],{name:r})));case we:var a=t.playerId,o=t.isAI;return Object.assign({},e,Object(u.a)({},a,Object.assign({},e[a],{isAI:o})));case ke:if(t.on){for(var i=Object.assign({},e),l=0,c=Object.keys(i);l<c.length;l++){var s=c[l];i[s]=Object.assign(i[s],{isAI:!1})}return i}break;default:return e}},ui:Rt,options:Lt,gameStarted:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case He:return!0;default:return e}},activePlayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;switch((arguments.length>1?arguments[1]:void 0).type){case Fe:return e%2+1;case De:return 1;default:return e}},lastMove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return{cellId:t.cellId};case Qe:case Fe:var n=t.row,r=t.column,a=t.clockwise;return Object.assign({},e,{rotation:{row:n,column:r,clockwise:a}});case De:return{};default:return e}},winner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return t.player;case De:return null;default:return e}},gameOver:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Le:case Re:return!0;case De:return!1;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:return t.error;case Ge:case Ne:return null;default:return e}},canPickCell:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case He:return!0;case Ne:case De:return!1;default:return e}},canRotateQuadrant:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case Qe:case Fe:case De:return!1;case Ne:return!0;default:return e}},scores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case We:return t.scores;case De:return{};default:return e}},hasStoredState:function(e,t){if("undefined"===typeof e)return null!=window.localStorage.state;switch(t.type){case $e:return!0;case Xe:return!1;default:return e}}}),Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case ze:var t=window.localStorage.state;if(!t)return e;try{return JSON.parse(t)}catch(n){return e}default:return e}}(e,t),Pt(e,t)};n(469),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _t,xt=Object(Mt.e)(Dt,_t,Object(Mt.d)(Object(Mt.a)(jt.a),Ot.instrument()));i.a.render(a.a.createElement(l.Provider,{store:xt},a.a.createElement(Et,null)),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.7c2df92b.chunk.js.map