{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Timeslot.vue?b7e9","webpack:///./src/App.vue?04ae","webpack:///./src/utils.js","webpack:///./src/components/Task.vue?07ad","webpack:///./src/components/Timeslot.vue?8b5f","webpack:///src/components/Timeslot.vue","webpack:///./src/components/Timeslot.vue?9189","webpack:///./src/components/Timeslot.vue","webpack:///src/components/Task.vue","webpack:///./src/components/Task.vue?a757","webpack:///./src/components/Task.vue","webpack:///./src/components/ConfirmDialog.vue?8696","webpack:///src/components/ConfirmDialog.vue","webpack:///./src/components/ConfirmDialog.vue?7046","webpack:///./src/components/ConfirmDialog.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/ConfirmDialog.vue?9d4f","webpack:///./src/App.vue?a173","webpack:///./src/components/Task.vue?5d72"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","class","loaded","dropzone","attrs","staticClass","rootTasks","on","$event","clearAll","clientY","_v","_e","type","indexOf","_k","keyCode","inputTask","target","visible","absoluteTotalDuration","domProps","_s","formatDuration","totalDuration","showSeconds","_l","task","id","addTask","removeTaskConfirmation","resetTask","startTask","stopTask","moveTask","changeTimeslotBegin","changeTimeslotEnd","removeTimeslotConfirmation","timeslotToNewTask","timeslotToTask","confirmation","staticRenderFns","secondsToDisplayDuration","totalSeconds","showDays","showHours","showMinutes","isNegative","seconds","Math","abs","components","label","sec","show","filter","v","output","last","component","floor","saveToStorage","localStorage","setItem","JSON","stringify","getFromStorage","getItem","parse","err","console","error","runIfFn","fn","thisArg","args","arguments","zeropad","nr","pad","input","char","str","timeToTimestamp","time","timeRe","matches","exec","warn","hr","parseInt","min","dt","Date","setHours","setMinutes","setSeconds","getTime","duration","showZero","rounded","round","format","test","formatTimestamp","timestamp","outputIfInvalid","date","hours","getHours","minutes","getMinutes","active","isActive","isActiveAncestor","dragging","subtask","parentId","collapsed","$emit","timeslots","subTasks","taskId","posY","editName","toggleEdit","directives","rawName","_source","expression","cancelEdit","undefined","composing","$set","timeslot","subTask","timeslotId","begin","end","props","mounted","$el","addEventListener","onDragStart","onDragEnd","document","onClick","beforeDestroy","removeEventListener","methods","ev","stopPropagation","dataTransfer","effectAllowed","dropEffect","setData","setTimeout","preventDefault","parentNode","Number","el","onDragOver","onDragLeave","onDrop","isNaN","onDropTask","onDropTimeslot","config","text","cancelText","cancel","okText","ok","onKeyup","dialog","rearrangeable","top","clientHeight","minMargin","viewport","height","dialogRect","style","position","getViewport","left","width","innerWidth","innerHeight","inserted","Task","ConfirmDialog","nextId","initialId","tasksById","timeslotsById","now","always","savedState","assign","state","computed","tasks","values","timeslotsByTask","computedTasks","map","getComputedTask","activeTask","find","ancestors","reduce","getTaskDuration","getComputedTimeslot","some","getSubTasks","getTimeslotDuration","getAncestors","parent","cache","isAncestor","taskB","taskA","save","inputElement","newTask","createTask","updateTask","changeTimeslotTimestamp","updateTimeslot","isTimeslot","updateFn","currentTimeslot","doneFn","oldTask","removeTask","Array","isArray","showConfirmation","clearConfirmation","evt","keys","forEach","createTimeslot","setNow","removeTimeslot","remove","clearTimeslots","ts","subTasksSeconds","taskSeconds","updateDocumentTitle","title","documentTitle","mainLoop","$watch","debouncedSave","Vue","productionTip","render","h","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,GAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,oJCvJT,W,4HCAI,EAAS,WAAa,IAAIyC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAEC,OAAQ,EAAGC,SAAUR,EAAIQ,UAAWC,MAAM,CAAC,GAAK,iBAAiB,CAACL,EAAG,OAAO,CAACA,EAAG,MAAM,CAACM,YAAY,iBAAiB,CAACN,EAAG,MAAM,CAACM,YAAY,QAAQ,CAAEV,EAAIW,UAAUhE,OAAS,EAAGyD,EAAG,SAAS,CAACM,YAAY,aAAaD,MAAM,CAAC,KAAO,UAAUG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIc,SAASD,EAAOE,YAAY,CAACX,EAAG,IAAI,CAACM,YAAY,qBAAqBN,EAAG,OAAO,CAACM,YAAY,QAAQ,CAACV,EAAIgB,GAAG,kBAAkBhB,EAAIiB,OAAOb,EAAG,MAAM,CAACM,YAAY,UAAU,CAACN,EAAG,QAAQ,CAACM,YAAY,WAAWD,MAAM,CAAC,KAAO,OAAO,YAAc,YAAYG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOK,KAAKC,QAAQ,QAAQnB,EAAIoB,GAAGP,EAAOQ,QAAQ,QAAQ,GAAGR,EAAOvB,IAAI,SAAkB,KAAcU,EAAIsB,UAAUT,EAAOU,cAAcnB,EAAG,MAAM,CAACM,YAAY,SAAS,CAACN,EAAG,MAAM,CAACM,YAAY,iBAAiBJ,MAAM,CAAEkB,QAASxB,EAAIyB,sBAAwB,IAAK,CAACrB,EAAG,IAAI,CAACM,YAAY,iBAAiBN,EAAG,OAAO,CAACM,YAAY,QAAQgB,SAAS,CAAC,YAAc1B,EAAI2B,GAAG3B,EAAI4B,eAAe5B,EAAI6B,cAAe,CAAEC,YAAa9B,EAAIyB,sBAAwB,eAAgBzB,EAAI+B,GAAI/B,EAAa,WAAE,SAASgC,GAAM,OAAO5B,EAAG,OAAO,CAACd,IAAI0C,EAAKC,GAAGxB,MAAM,CAAC,KAAOuB,GAAMpB,GAAG,CAAC,WAAW,SAASC,GAAQ,OAAOb,EAAIkC,QAAQrB,IAAS,2BAA2B,SAASA,GAAQ,OAAOb,EAAImC,uBAAuBtB,IAAS,aAAa,SAASA,GAAQ,OAAOb,EAAIoC,UAAUvB,IAAS,aAAa,SAASA,GAAQ,OAAOb,EAAIqC,UAAUxB,IAAS,YAAY,SAASA,GAAQ,OAAOb,EAAIsC,SAASzB,IAAS,YAAY,SAASA,GAAQ,OAAOb,EAAIuC,SAAS1B,IAAS,wBAAwB,SAASA,GAAQ,OAAOb,EAAIwC,oBAAoB3B,IAAS,sBAAsB,SAASA,GAAQ,OAAOb,EAAIyC,kBAAkB5B,IAAS,+BAA+B,SAASA,GAAQ,OAAOb,EAAI0C,2BAA2B7B,IAAS,uBAAuB,SAASA,GAAQ,OAAOb,EAAI2C,kBAAkB9B,IAAS,mBAAmB,SAASA,GAAQ,OAAOb,EAAI4C,eAAe/B,WAAe,GAAIb,EAAI6C,aAAe,GAAEzC,EAAG,gBAAgB,CAACK,MAAM,CAAC,OAAST,EAAI6C,gBAAgB7C,EAAIiB,MAAM,IACpjE6B,EAAkB,G,oJCkBtB,SAASC,EACPC,GAEA,+DADgF,GAChF,IADEC,gBACF,aADmBC,iBACnB,aADqCC,mBACrC,aADyDrB,mBACzD,SACMsB,EAAaJ,EAAe,EAE9BK,EAAUC,KAAKC,IAAIP,GAEjBQ,EAAa,CACjB,CAAEC,MAAO,IAAKC,IAAK,MAAcC,KAAMV,GACvC,CAAEQ,MAAO,IAAKC,IAAK,KAASC,KAAMT,GAClC,CAAEO,MAAO,IAAKC,IAAK,GAAIC,KAAMR,GAC7B,CAAEM,MAAO,IAAKC,IAAK,EAAGC,KAAM7B,IAC5B8B,QAAO,SAAAC,GAAC,OAAIA,EAAEF,QAEZG,EAAS,GACPC,EAAOP,EAAWA,EAAW7G,OAAS,GAb5C,iBAcwB6G,GAdxB,IAcA,2BAAoC,KAAzBQ,EAAyB,QAC5BhF,EAAQsE,KAAKW,MAAMZ,EAAUW,EAAUN,KAC7CL,GAAWW,EAAUN,KAEjB1E,EAAQ,IAAO8E,GAAUE,IAAcD,KACzCD,GAAU9E,EAAQgF,EAAUP,QAnBhC,8BAuBA,OAAQL,EAAa,IAAM,IAAMU,EAGnC,SAASI,EAAc5E,EAAKN,GACrBa,OAAOsE,cAIZtE,OAAOsE,aAAaC,QAAQ9E,EAAK+E,KAAKC,UAAUtF,IAGlD,SAASuF,EAAejF,GACtB,IAAKO,OAAOsE,aACV,OAAO,KAGT,IACE,IAAInF,EAAQa,OAAOsE,aAAaK,QAAQlF,GACxC,OAAO+E,KAAKI,MAAMzF,GAClB,MAAO0F,GACPC,QAAQC,MAAMF,IAIlB,SAASG,EAAQC,EAAIC,GACnB,GAAkB,oBAAPD,EAAmB,CAC5B,IAAIE,EAAO,GAAGjF,MAAMzC,MAAM2H,WAAWlF,MAAM,GAC3C+E,EAAGxH,MAAMyH,EAASC,IAStB,SAASE,EAAQC,EAAIxI,GACnB,OAAOyI,EAAID,EAAI,IAAKxI,GAUtB,SAASyI,EAAIC,EAAOC,EAAM3I,GAExB,IAAI4I,EAAM,GAAH,OAAMF,GACb,MAAOE,EAAI5I,OAASA,EAClB4I,EAAMD,EAAOC,EAEf,OAAOA,EAOT,SAASC,EAAgBC,GACvB,IAAMC,EAAS,gCACTC,EAAUD,EAAOE,KAAKH,GAE5B,GAAe,MAAXE,GAAsC,IAAnBA,EAAQhJ,OAK7B,OAJI8I,GACFd,QAAQkB,KAAR,mDAAyDH,EAAzD,qBAA4ED,EAA5E,MAGK,KAGT,IAAMK,EAAKC,SAASJ,EAAQ,GAAI,IAC1BK,EAAMD,SAASJ,EAAQ,GAAI,IAE3BM,EAAK,IAAIC,KAKf,OAJAD,EAAGE,SAASL,GACZG,EAAGG,WAAWJ,GACdC,EAAGI,WAAW,EAAG,GAEVJ,EAAGK,UAGZ,SAAS1E,EACP2E,GAEA,6DADiG,GACjG,IADEC,gBACF,aADmB1E,mBACnB,aADuCqB,mBACvC,aAD2DD,iBAC3D,aAD6ED,gBAC7E,SACMwD,EAAUnD,KAAKoD,MAAMH,GACrBI,EAAS5D,EAAyB0D,EAAS,CAC/CxD,WACAnB,cACAqB,cACAD,cAGF,OAAKsD,GAAY,cAAcI,KAAKD,GAC3B,KAEAA,EAIX,SAASE,EAAgBC,EAAWC,GAClC,GAAyB,kBAAdD,EAMT,OALiB,MAAbA,GAEFnC,QAAQkB,KAAR,iEAA+DiB,KAG1DC,EAGT,IAAMC,EAAO,IAAId,KAAKY,GAElBG,EAAQD,EAAKE,WACbC,EAAUH,EAAKI,aAEnB,OAAOlC,EAAQ+B,EAAO,GAAK,IAAM/B,EAAQiC,EAAS,GClKpD,IAAI,EAAS,WAAa,IAAInH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,OAAOJ,MAAM,CAC/H+G,OAAQrH,EAAIgC,KAAKsF,SACjB,kBAAmBtH,EAAIgC,KAAKuF,iBAC5B/G,SAAUR,EAAIQ,SACdgH,SAAUxH,EAAIwH,SACdC,QAA8B,MAArBzH,EAAIgC,KAAK0F,SAClBC,UAAW3H,EAAI2H,YACd,CAACvH,EAAG,MAAM,CAACM,YAAY,YAAYD,MAAM,CAAC,UAAY,SAAS,CAACL,EAAG,MAAM,CAACM,YAAY,QAAQ,CAAGV,EAAIgC,KAAKsF,SAAkLtH,EAAIiB,KAA5Kb,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,SAAS,MAAQ,SAASG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI4H,MAAM,aAAc5H,EAAIgC,KAAKC,OAAO,CAAC7B,EAAG,IAAI,CAACM,YAAY,kBAA4BV,EAAIgC,KAAa,SAAE5B,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,SAAS,MAAQ,QAAQG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI4H,MAAM,YAAa5H,EAAIgC,KAAKC,OAAO,CAAC7B,EAAG,IAAI,CAACM,YAAY,kBAAkBV,EAAIiB,KAAKb,EAAG,SAAS,CAACM,YAAY,cAAcD,MAAM,CAAC,KAAO,SAAS,MAAQ,eAAeG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI4H,MAAM,WAAY,CAAEF,SAAU1H,EAAIgC,KAAKC,QAAS,CAAC7B,EAAG,IAAI,CAACM,YAAY,yBAA0BV,EAAIgC,KAAK6F,UAAUlL,QAAUqD,EAAIgC,KAAK8F,SAASnL,OAAQyD,EAAG,SAAS,CAACM,YAAY,kBAAkBD,MAAM,CAAC,KAAO,SAAS,MAAQT,EAAI2H,UAAY,SAAW,YAAY/G,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAI2H,WAAa3H,EAAI2H,aAAa,CAAE3H,EAAa,UAAEI,EAAG,IAAI,CAACM,YAAY,sBAAsBV,EAAIiB,KAAOjB,EAAI2H,UAAmD3H,EAAIiB,KAA5Cb,EAAG,IAAI,CAACM,YAAY,sBAA+BV,EAAIiB,KAAKb,EAAG,SAAS,CAACK,MAAM,CAAC,KAAO,SAAS,MAAQ,UAAUG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI4H,MAAM,2BAA4B,CAAEG,OAAQ/H,EAAIgC,KAAKC,GAAI+F,KAAMnH,EAAOE,aAAc,CAACX,EAAG,IAAI,CAACM,YAAY,yBAAyBN,EAAG,MAAM,CAACM,YAAY,UAAU,CAAGV,EAAIiI,SAAoJjI,EAAIiB,KAA9Ib,EAAG,MAAM,CAACM,YAAY,YAAYgB,SAAS,CAAC,YAAc1B,EAAI2B,GAAG3B,EAAIgC,KAAKzD,OAAOqC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIkI,iBAA2BlI,EAAY,SAAEI,EAAG,QAAQ,CAAC+H,WAAW,CAAC,CAAC5J,KAAK,QAAQ6J,QAAQ,WAAW,CAAC7J,KAAK,QAAQ6J,QAAQ,UAAUpJ,MAAOgB,EAAIgC,KAAKqG,QAAY,KAAEC,WAAW,sBAAsB5H,YAAY,iBAAiBD,MAAM,CAAC,KAAO,OAAO,YAAc,aAAaiB,SAAS,CAAC,MAAS1B,EAAIgC,KAAKqG,QAAY,MAAGzH,GAAG,CAAC,MAAQ,CAAC,SAASC,GAAQ,OAAIA,EAAOK,KAAKC,QAAQ,QAAQnB,EAAIoB,GAAGP,EAAOQ,QAAQ,QAAQ,GAAGR,EAAOvB,IAAI,SAAkB,KAAcU,EAAIuI,cAAc,SAAS1H,GAAQ,OAAIA,EAAOK,KAAKC,QAAQ,QAAQnB,EAAIoB,GAAGP,EAAOQ,QAAQ,cAASmH,EAAU3H,EAAOvB,SAAIkJ,GAAoB,KAAcxI,EAAIuI,eAAe,MAAQ,SAAS1H,GAAWA,EAAOU,OAAOkH,WAAqBzI,EAAI0I,KAAK1I,EAAIgC,KAAKqG,QAAS,OAAQxH,EAAOU,OAAOvC,WAAWgB,EAAIiB,OAAOb,EAAG,MAAM,CAACM,YAAY,SAAS,CAACN,EAAG,MAAM,CAACM,YAAY,yBAAyB,CAACN,EAAG,OAAO,CAACM,YAAY,gBAAgBgB,SAAS,CAAC,YAAc1B,EAAI2B,GAAG3B,EAAI4B,eAAe5B,EAAIgC,KAAKuE,SAAU,CAAEC,UAAU,EAAO1E,YAAa9B,EAAIgC,KAAKuE,SAAW,eAAiBvG,EAAIgC,KAAK6F,UAAUlL,QAAUqD,EAAIgC,KAAK8F,SAASnL,OAAQyD,EAAG,MAAM,CAACM,YAAY,aAAa,CAAEV,EAAIgC,KAAK6F,UAAgB,OAAEzH,EAAG,MAAM,CAACM,YAAY,aAAaV,EAAI+B,GAAI/B,EAAIgC,KAAc,WAAE,SAAS2G,GAAU,OAAOvI,EAAG,WAAW,CAACd,IAAIqJ,EAAS1G,GAAGxB,MAAM,CAAC,SAAWkI,EAAS,KAAO3I,EAAIgC,MAAMpB,GAAG,CAAC,wBAAwB,SAASC,GAAQ,OAAOb,EAAI4H,MAAM,wBAAyB/G,IAAS,sBAAsB,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,sBAAuB/G,IAAS,+BAA+B,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,+BAAgC/G,IAAS,uBAAuB,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,uBAAwB/G,IAAS,mBAAmB,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,mBAAoB/G,UAAc,GAAGb,EAAIiB,KAAMjB,EAAIgC,KAAK8F,SAAe,OAAE1H,EAAG,MAAM,CAACM,YAAY,YAAYV,EAAI+B,GAAI/B,EAAIgC,KAAa,UAAE,SAAS4G,GAAS,OAAOxI,EAAG,OAAO,CAACd,IAAIsJ,EAAQ3G,GAAGxB,MAAM,CAAC,KAAOmI,GAAShI,GAAG,CAAC,WAAW,SAASC,GAAQ,OAAOb,EAAI4H,MAAM,WAAY/G,IAAS,2BAA2B,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,2BAA4B/G,IAAS,aAAa,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,aAAc/G,IAAS,aAAa,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,aAAc/G,IAAS,YAAY,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,YAAa/G,IAAS,YAAY,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,YAAa/G,IAAS,wBAAwB,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,wBAAyB/G,IAAS,sBAAsB,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,sBAAuB/G,IAAS,+BAA+B,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,+BAAgC/G,IAAS,uBAAuB,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,uBAAwB/G,IAAS,mBAAmB,SAASA,GAAQ,OAAOb,EAAI4H,MAAM,mBAAoB/G,UAAc,GAAGb,EAAIiB,OAAOjB,EAAIiB,QACtvI,EAAkB,GCRlB,G,UAAS,WAAa,IAAIjB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,WAAWJ,MAAM,CAAE+G,OAAQrH,EAAI2I,SAASrB,SAAUE,SAAUxH,EAAIwH,UAAW/G,MAAM,CAAC,UAAY,SAAS,CAACL,EAAG,OAAO,CAACM,YAAY,qBAAqB,CAACN,EAAG,OAAO,CAACM,YAAY,mBAAmBD,MAAM,CAAC,MAAQ,uBAAuBG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI4H,MAAM,uBAAwB5H,EAAI2I,SAAS1G,OAAO,CAAC7B,EAAG,IAAI,CAACM,YAAY,6BAA6BN,EAAG,OAAO,CAACM,YAAY,mCAAmCD,MAAM,CAAC,MAAQ,UAAUG,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI4H,MAAM,+BAAgC,CAAEiB,WAAY7I,EAAI2I,SAAS1G,GAAI+F,KAAMnH,EAAOE,aAAc,CAACX,EAAG,IAAI,CAACM,YAAY,yBAAyBN,EAAG,OAAO,CAACM,YAAY,mBAAmB,CAACN,EAAG,OAAO,CAACM,YAAY,kBAAkB,CAAe,MAAbV,EAAI8I,MAAe1I,EAAG,OAAO,CAACsB,SAAS,CAAC,YAAc1B,EAAI2B,GAAG3B,EAAI6G,gBAAgB7G,EAAI2I,SAASG,MAAO,SAASlI,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAI8I,MAAQ9I,EAAI6G,gBAAgB7G,EAAI2I,SAASG,MAAO,WAAW9I,EAAIiB,KAAmB,MAAbjB,EAAI8I,MAAe1I,EAAG,QAAQ,CAAC+H,WAAW,CAAC,CAAC5J,KAAK,QAAQ6J,QAAQ,UAAUpJ,MAAOgB,EAAS,MAAEsI,WAAW,SAAS,CAAC/J,KAAK,QAAQ6J,QAAQ,YAAY1H,YAAY,YAAYD,MAAM,CAAC,KAAO,QAAQiB,SAAS,CAAC,MAAS1B,EAAS,OAAGY,GAAG,CAAC,MAAQ,CAAC,SAASC,GAAQ,OAAIA,EAAOK,KAAKC,QAAQ,QAAQnB,EAAIoB,GAAGP,EAAOQ,QAAQ,QAAQ,GAAGR,EAAOvB,IAAI,SAAkB,KAAcU,EAAIwC,oBAAoBxC,EAAI8I,QAAQ,SAASjI,GAAQ,IAAIA,EAAOK,KAAKC,QAAQ,QAAQnB,EAAIoB,GAAGP,EAAOQ,QAAQ,cAASmH,EAAU3H,EAAOvB,SAAIkJ,GAAa,OAAO,KAAOxI,EAAI8I,MAAQ,OAAO,MAAQ,SAASjI,GAAWA,EAAOU,OAAOkH,YAAqBzI,EAAI8I,MAAMjI,EAAOU,OAAOvC,WAAUgB,EAAIiB,OAAOb,EAAG,OAAO,CAACM,YAAY,sBAAsB,CAACV,EAAIgB,GAAG,OAAOZ,EAAG,OAAO,CAACM,YAAY,gBAAgB,CAAa,MAAXV,EAAI+I,IAAa3I,EAAG,OAAO,CAACsB,SAAS,CAAC,YAAc1B,EAAI2B,GAAG3B,EAAI6G,gBAAgB7G,EAAI2I,SAASI,IAAK,SAASnI,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAI+I,IAAM/I,EAAI6G,gBAAgB7G,EAAI2I,SAASI,IAAK,WAAW/I,EAAIiB,KAAiB,MAAXjB,EAAI+I,IAAa3I,EAAG,QAAQ,CAAC+H,WAAW,CAAC,CAAC5J,KAAK,QAAQ6J,QAAQ,UAAUpJ,MAAOgB,EAAO,IAAEsI,WAAW,OAAO,CAAC/J,KAAK,QAAQ6J,QAAQ,YAAY1H,YAAY,YAAYD,MAAM,CAAC,KAAO,QAAQiB,SAAS,CAAC,MAAS1B,EAAO,KAAGY,GAAG,CAAC,MAAQ,CAAC,SAASC,GAAQ,OAAIA,EAAOK,KAAKC,QAAQ,QAAQnB,EAAIoB,GAAGP,EAAOQ,QAAQ,QAAQ,GAAGR,EAAOvB,IAAI,SAAkB,KAAcU,EAAIyC,kBAAkBzC,EAAI+I,MAAM,SAASlI,GAAQ,IAAIA,EAAOK,KAAKC,QAAQ,QAAQnB,EAAIoB,GAAGP,EAAOQ,QAAQ,cAASmH,EAAU3H,EAAOvB,SAAIkJ,GAAa,OAAO,KAAOxI,EAAI+I,IAAM,OAAO,MAAQ,SAASlI,GAAWA,EAAOU,OAAOkH,YAAqBzI,EAAI+I,IAAIlI,EAAOU,OAAOvC,WAAUgB,EAAIiB,SAASb,EAAG,OAAO,CAACM,YAAY,kBAAkB,CAACN,EAAG,OAAO,CAACM,YAAY,oBAAoBgB,SAAS,CAAC,YAAc1B,EAAI2B,GAAG3B,EAAI4B,eAAe5B,EAAI2I,SAASpC,SAAU,CAAEC,UAAU,cAC7vF,EAAkB,GC+DtB,GACEjI,KAAM,WACNyK,MAAO,CACLL,SAAU/L,OACVoF,KAAMpF,QAERqM,QAAS,WACPhJ,KAAKiJ,IAAIC,iBAAiB,YAAalJ,KAAKmJ,aAC5CnJ,KAAKiJ,IAAIC,iBAAiB,UAAWlJ,KAAKoJ,WAC1CC,SAASH,iBAAiB,QAASlJ,KAAKsJ,UAG1CC,cAAe,WACbvJ,KAAKiJ,IAAIO,oBAAoB,YAAaxJ,KAAKmJ,aAC/CnJ,KAAKiJ,IAAIO,oBAAoB,UAAWxJ,KAAKoJ,WAC7CC,SAASG,oBAAoB,QAASxJ,KAAKsJ,UAG7CpN,KAAM,WACJ,MAAO,CAGL2M,MAAO,KACPC,IAAK,KACLvB,UAAU,IAIdkC,QAAS,CACP7C,gBAAiB,EACjBjF,eAAgB,EAEhBY,oBAAqB,SAAzB,GACM,IAAN,mBACA,OACMvC,KAAK2H,MAAM,wBAAyB,CAA1C,2BACM3H,KAAK6I,MAAQ,MAGfrG,kBAAmB,SAAvB,GACM,IAAN,mBACA,OACMxC,KAAK2H,MAAM,sBAAuB,CAAxC,2BACM3H,KAAK8I,IAAM,MAGbK,YAAa,SAAjB,cACMO,EAAGC,kBAEHD,EAAGE,aAAaC,cAAgB,OAChCH,EAAGE,aAAaE,WAAa,OAC7BJ,EAAGE,aAAaG,QAAQ,aAAc/J,KAAK0I,SAAS1G,IACpD0H,EAAGE,aAAaG,QAAQ,SAAU/J,KAAK0I,SAASZ,QAEhDkC,YAAW,WAAjB,yBAGIZ,UAAW,SAAf,GACMM,EAAGO,iBACHP,EAAGC,kBACH3J,KAAKuH,UAAW,GAGlB+B,QAAS,SAAb,GACM,GAAiB,MAAbI,EAAGpI,QAA0C,MAAxBoI,EAAGpI,OAAO4I,WAAnC,CAKA,IAAN,gCACUxB,IAAa1I,KAAKiJ,MACpBjJ,KAAK6I,MAAQ,KACb7I,KAAK8I,IAAM,UCxI+T,I,wBCQ9U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,I,QCwFf,GACExK,KAAM,OACNiF,WAAY,CAAd,YACEwF,MAAO,CACLhH,KAAMpF,OACN8K,SAAU0C,QAGZnB,QAAS,WAAX,WACA,WAEIoB,EAAGlB,iBAAiB,YAAalJ,KAAKmJ,aACtCiB,EAAGlB,iBAAiB,UAAWlJ,KAAKoJ,WACpCgB,EAAGlB,iBAAiB,WAAYlJ,KAAKqK,YACrCD,EAAGlB,iBAAiB,YAAalJ,KAAKsK,aACtCF,EAAGlB,iBAAiB,OAAQlJ,KAAKuK,QAE5BvK,KAAK+B,KAAKzD,OACb0B,KAAKgI,UAAW,GAMlBgC,YAAW,WAAf,wDAGET,cAAe,WACbvJ,KAAKiJ,IAAIO,oBAAoB,YAAaxJ,KAAKmJ,aAC/CnJ,KAAKiJ,IAAIO,oBAAoB,UAAWxJ,KAAKoJ,WAC7CpJ,KAAKiJ,IAAIO,oBAAoB,WAAYxJ,KAAKqK,YAC9CrK,KAAKiJ,IAAIO,oBAAoB,OAAQxJ,KAAKuK,QAC1CvK,KAAKiJ,IAAIO,oBAAoB,YAAaxJ,KAAKsK,aAE/CjB,SAASG,oBAAoB,QAASxJ,KAAKsJ,UAG7CpN,KAAM,WACJ,MAAO,CACLqE,UAAU,EACVgH,UAAU,EACVS,UAAU,EACVN,WAAW,IAIf+B,QAAS,CACP7C,gBAAiB,EACjBjF,eAAgB,EAEhBwH,YAAa,SAAjB,cACMO,EAAGC,kBAEHD,EAAGE,aAAaC,cAAgB,OAChCH,EAAGE,aAAaE,WAAa,OAC7BJ,EAAGE,aAAaG,QAAQ,SAAU/J,KAAK+B,KAAKC,IAK5CgI,YAAW,WAAjB,yBAGIZ,UAAW,SAAf,GACMM,EAAGO,iBACHP,EAAGC,kBACH3J,KAAKuH,UAAW,GAGlB8C,WAAY,SAAhB,GACMX,EAAGO,iBACHP,EAAGC,kBAEC3J,KAAKuH,SAEPmC,EAAGE,aAAaE,WAAa,OAE7B9J,KAAKO,UAAW,GAIpB+J,YAAa,SAAjB,GACMZ,EAAGO,iBAEHjK,KAAKO,UAAW,GAGlBgK,OAAQ,SAAZ,GACMb,EAAGO,iBACHP,EAAGC,kBAEH3J,KAAKO,UAAW,EAEhB,IAAN,gDACA,oDAEUiK,MAAM1C,KAKL0C,MAAM5B,GAGT5I,KAAKyK,WAAW3C,GAFhB9H,KAAK0K,eAAe9B,KAMxB6B,WAAY,SAAhB,GACMzK,KAAK2H,MAAM,YAAa,CACtBG,OAAQA,EACRL,SAAUzH,KAAK+B,KAAKC,MAIxB0I,eAAgB,SAApB,GACM1K,KAAK2H,MAAM,mBAAoB,CAC7B3F,GAAI4G,EACJd,OAAQ9H,KAAK+B,KAAKC,MAItBsH,QAAS,SAAb,GACM,GAAiB,MAAbI,EAAGpI,QAA0C,MAAxBoI,EAAGpI,OAAO4I,WAAnC,CAKA,IAAN,4BACUnI,IAAS/B,KAAKiJ,KAChBjJ,KAAKsI,eAITL,WAAY,WACVjI,KAAKgI,UAAYhI,KAAKgI,UAGxBM,WAAY,WACVtI,KAAKgI,UAAW,KCtPwT,ICQ1U,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIjI,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACM,YAAY,0BAA0B,CAACN,EAAG,MAAM,CAACM,YAAY,kBAAkB,CAACN,EAAG,MAAM,CAACM,YAAY,OAAOgB,SAAS,CAAC,YAAc1B,EAAI2B,GAAG3B,EAAI4K,OAAOC,SAASzK,EAAG,MAAM,CAACM,YAAY,WAAW,CAACN,EAAG,SAAS,CAACM,YAAY,SAASD,MAAM,CAAC,KAAO,UAAUiB,SAAS,CAAC,YAAc1B,EAAI2B,GAAG3B,EAAI4K,OAAOE,aAAalK,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI+K,aAAa3K,EAAG,SAAS,CAACM,YAAY,KAAKD,MAAM,CAAC,KAAO,UAAUiB,SAAS,CAAC,YAAc1B,EAAI2B,GAAG3B,EAAI4K,OAAOI,SAASpK,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIiL,gBAC/lB,EAAkB,GCctB,GACE1M,KAAM,iBACNyK,MAAO,CACL4B,OAAQhO,QAGVT,KAAM,WAAR,OACA,0BAGE8M,QAAS,WAIP,GAHAhJ,KAAKiJ,IAAIC,iBAAiB,QAASlJ,KAAKsJ,SACxCD,SAASH,iBAAiB,QAASlJ,KAAKiL,SAEhB,MAApBjL,KAAK2K,OAAO5C,KAAc,CAC5B,IAAN,4CACM,GAAc,MAAVmD,EAAgB,CAClB,IASR,EATA,qBAEA,oCACA,4BAIA,wBAGQ,GAAIC,EAAe,CAEjBC,EAAMpL,KAAK2K,OAAO5C,KAAOmD,EAAOG,aAAe,EAC/C,IAAV,aACcD,EAAME,EACRF,EAAME,EAClB,eACYF,EAAMG,EAASC,OAASF,EAAYG,EAAWD,aAKjDJ,EAAMG,EAASC,OAAS,EAAIN,EAAOG,aAAe,EAGpDH,EAAOQ,MAAMC,SAAW,WACxBT,EAAOQ,MAAMN,IAAMA,EAAM,QAK/B7B,cAAe,WACbvJ,KAAKiJ,IAAIO,oBAAoB,QAASxJ,KAAKsJ,SAC3CD,SAASG,oBAAoB,QAASxJ,KAAKiL,UAG7CxB,QAAS,CACPuB,GAAI,WACF,EAAN,gBACM,EAAN,qBAGIF,OAAQ,WACN,EAAN,oBACM,EAAN,qBAGIxB,QAAS,SAAb,GACMI,EAAGO,iBACHP,EAAGC,kBAECD,EAAGpI,SAAWtB,KAAKiJ,KACrBjJ,KAAK8K,UAITG,QAAS,SAAb,GACyB,KAAfvB,EAAGtI,SAELpB,KAAK8K,UAITc,YAAa,WACX,MAAO,CACLR,IAAK,EACLS,KAAM,EACNC,MAAOlM,OAAOmM,WACdP,OAAQ5L,OAAOoM,gBCpGgU,ICQnV,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,OAIa,I,6BCkCf,IAEA,0BACEC,SAAU,SAAZ,uBAGA,OACE3N,KAAM,MACNiF,WAAY,CACV2I,KAAJ,EACIC,cAAJ,GAGEjQ,KAAM,WACJ,IAAJ,GAEMkQ,OAAQC,EACRC,UAAW,GACXC,cAAe,GAGfC,IAAKvG,KAAKuG,MACVjM,UAAU,EAEVqC,aAAc,CACZoI,GAAI,KACJD,OAAQ,KACRD,OAAQ,KACRD,WAAY,KACZD,KAAM,KACN6B,OAAQ,KACR1E,KAAM,OAId,oBAKI,OAJkB,MAAd2E,GACF/P,OAAOgQ,OAAOC,EAAOF,GAGhBE,GAGTC,SAAU,CACRC,MAAO,WACL,OAAOnQ,OAAOoQ,OAAO/M,KAAKsM,YAG5B1E,UAAW,WACT,OAAOjL,OAAOoQ,OAAO/M,KAAKuM,gBAG5BS,gBAAiB,WACf,IADN,EACA,KADA,iBAGA,gBAHA,IAGA,0CACA,iBACA,oBACA,gBAGA,sBATA,8BAaM,OAAOA,GAGTC,cAAe,WACb,OAAOjN,KAAK8M,MAAMI,IAAIlN,KAAKmN,kBAG7BzM,UAAW,WACT,OAAOV,KAAKiN,cAActJ,QAAO,SAAvC,+BAGIkE,SAAU,WACR,IADN,EACA,KADA,iBAGA,YAHA,IAGA,0CACA,mBACA,sBACA,kBAGA,wBATA,8BAaM,OAAOA,GAGTuF,WAAY,WACV,OAAOpN,KAAKiN,cAAcI,MAAK,SAArC,yBAGIC,UAAW,WACT,IADN,EACA,KAEA,KAHA,iBAKA,YALA,IAKA,0CACA,gCANA,8BASM,OAAOA,GAGT1L,cAAe,WAAnB,WACM,OAAO5B,KAAKU,UAAU6M,QAAO,SAAnC,yCAGI/L,sBAAuB,WACrB,OAAO6B,KAAKC,IAAItD,KAAK4B,iBAIzB6H,QAAS,CACP0D,gBAAiB,SAArB,GACM,IAAN,iCAEA,gDAEM,OAAOxQ,OAAOgQ,OAAO,GAAI5K,EAAM,CAC7BuE,SAAUtG,KAAKwN,gBAAgBzL,GAC/B6F,UAAWA,EAAUsF,IAAIlN,KAAKyN,qBAC9B5F,SAAR,EACQR,SAAUO,EAAU8F,MAAK,SAAjC,wCACQpG,iBAAkBO,EAAS6F,MAAK,SAAxC,4CAGQtF,QAASrG,KAIb4L,YAAa,SAAjB,GACM,IADN,EACA,KADA,iBAGA,YAHA,IAGA,0CACA,mBACA,WALA,8BASM,OAAO9F,GAGT4F,oBAAqB,SAAzB,GACM,OAAO9Q,OAAOgQ,OAAO,GAAIjE,EAAU,CACjCrB,SAA4B,MAAlBqB,EAASG,OAAiC,MAAhBH,EAASI,IAC7CA,IAAKJ,EAASI,KAAO9I,KAAKwM,IAC1BlG,SAAUtG,KAAK4N,oBAAoBlF,GAGnCN,QAASM,KAIbmF,aAAc,SAAlB,KACM,IAAN,6BACM,GAAc,MAAVC,EACF,MAAO,GAGT,GAAsB,MAAlBC,EAAMhM,EAAKC,IACb,OAAO+L,EAAMhM,EAAKC,IAGpB,GAAc,MAAV8L,EAAgB,CAClB,IAAR,qDAEQ,OADAC,EAAMhM,EAAKC,IAAMsL,EACVA,IAOXU,WAAY,SAAhB,KACM,OAAOhO,KAAKsN,UAAUW,EAAMjM,IAAId,QAAQgN,IAAU,GAGpDC,KAAM,WAAV,IAEA,oDACA,yCACM,EAAN,mBAGI9M,UAAW,SAAf,GACMrB,KAAKiC,QAAQ,CAAnB,eACMmM,EAAarP,MAAQ,IAGvBkD,QAAS,SAAb,6BACA,uBACMjC,KAAKoC,UAAUiM,EAAQrM,KAGzBsM,WAAY,SAAhB,KACM,IAAN,gBAEA,GACQtM,GAAR,EACQyF,SAAR,EACQnJ,KAAMA,GAKR,OAFA,EAAN,6BAEayD,GAGTO,SAAU,SAAd,+BACM,GAAc,MAAVwF,GAA8B,MAAZL,GAAoBK,IAAWL,EAAU,CAC7D,IAAR,oBACA,oBAEQ,GAAY,MAAR1F,GAA0B,MAAV+L,GAAkB/L,EAAK0F,WAAaqG,EAAO9L,GAC7D,OAGF,GAAIhC,KAAKgO,WAAWjM,EAAM+L,GAGxB,OAGF9N,KAAKuO,WAAWzG,GAAQ,SAAhC,GAEU,OADA,EAAV,yBACiB/F,OAKbQ,oBAAqB,SAAzB,GACMvC,KAAKwO,wBAAwBzJ,EAAM,UAGrCvC,kBAAmB,SAAvB,GACMxC,KAAKwO,wBAAwBzJ,EAAM,QAGrCyJ,wBAAyB,SAA7B,KACM,IAAN,eACA,cAEMxO,KAAKyO,eAAe7F,GAAY,SAAtC,GAEQ,OADA,EAAR,gBACeF,MAIX6B,OAAQ,SAAZ,GACMvK,KAAKO,UAAW,EAEhB,IAAN,mCACWuH,GAIL9H,KAAKuO,WAAWzG,GAAQ,SAA9B,GAEQ,OADA,EAAR,0BACe/F,MAIXsI,WAAY,SAAhB,GACMX,EAAGO,iBAEH,IAAN,gDACUyE,EACFhF,EAAGE,aAAaE,WAAa,OAE7B9J,KAAKO,UAAW,GAIpB+J,YAAa,SAAjB,GACMZ,EAAGO,iBAEHjK,KAAKO,UAAW,GAGlBgO,WAAY,SAAhB,KACM,IAAN,oBACkB,MAARxM,GAIJ4M,EAAS5M,IAGX0M,eAAgB,SAApB,OACM,IAAN,wBACM,GAAuB,MAAnBG,EAAJ,CAKA,IAAN,OACM,EAAN,oCAC4B,oBAAXC,GACTA,SAPAnK,QAAQkB,KAAK,6BAArB,YAWIxD,UAAW,SAAf,cACA,kBACU0M,GAAWA,EAAQ9M,KAAOA,GAC5BhC,KAAKqC,SAASyM,EAAQ9M,IAGxBhC,KAAKuO,WAAWvM,GAAI,SAA1B,GAEQ,OADA,EAAR,kBACeD,MAIXM,SAAU,SAAd,cACMrC,KAAKuO,WAAWvM,GAAI,SAA1B,GACQ,GAAY,MAARD,EAAJ,CAIA,IALR,EAKA,2BACA,6DAEA,aARA,iBAUA,GAVA,IAUA,0CACA,uBAXA,8BAcQ,OAAOA,OAIXgN,WAAY,SAAhB,GACM,GAAK/O,KAAKsM,UAAUtK,GAApB,CAKA,EAAN,8BAEM,IAAN,mBACM,GAAIgN,MAAMC,QAAQpH,GAAW,CAAnC,uBACA,GADA,IACA,0CACA,uBAFA,+BAMM,IAAN,0BACM,GAAImH,MAAMC,QAAQrH,GAAY,CAApC,uBACA,GADA,IACA,0CACA,2BAFA,+BAMgC,IAAtB5H,KAAK8M,MAAMpQ,SACbsD,KAAKoM,OAASC,KAIlBnK,uBAAwB,SAA5B,cACA,WAEA,oBACM,GAAY,MAARH,EAAJ,CAIA,IAAN,sBAEM/B,KAAKkP,iBAAiB,CACpBtE,KAAM,UAAd,cACQI,GAAI,WAAZ,wBACQyB,OAAQzM,KAAKmP,kBACbpH,KAAMqH,EAAIrH,SAIdmH,iBAAkB,SAAtB,yHACMvS,OAAOgQ,OAAO3M,KAAK4C,aAAc,CAAvC,8DAGIuM,kBAAmB,WAAvB,WACMxS,OAAO0S,KAAKrP,KAAK4C,cAAc0M,SAAQ,SAA7C,qCAGIC,eAAgB,SAApB,GACM,IAAN,gBAEMvP,KAAKwP,SAEL,IAAN,GACQxN,GAAR,EACQ8F,OAAR,EACQe,MAAO7I,KAAKwM,KAKd,OAFA,EAAN,iCAEa9D,GAGT+G,eAAgB,SAApB,GACM,EAAN,mCAGIhN,2BAA4B,SAAhC,cACA,eACA,wBACM,GAAgB,MAAZiG,EAAJ,CAIA,IAAN,2BACA,yBAEA,8BACA,mBACA,iBAEM1I,KAAKkP,iBAAiB,CACpBtE,KAAM,UAAd,+CACQI,GAAI,WAAZ,4BACQyB,OAAQzM,KAAKmP,kBACbpH,KAAMqH,EAAIrH,SAIdrF,kBAAmB,SAAvB,GACM,IAAN,wBAEM,GAAgB,MAAZgG,EAAJ,CAIA,IAAN,iCACM1I,KAAK2C,eAAe,CAA1B,qBAGIA,eAAgB,SAApB,yBACoC,MAA1B3C,KAAKsM,UAAUxE,IAInB9H,KAAKyO,eAAezM,GAAI,SAA9B,GAEQ,OADA,EAAR,uBACe0G,MAIX7H,SAAU,SAAd,cACA,aAEQ,IAAK,IAAb,KADQ,EAAR,SACA,YACU,EAAV,2BAEQ,IAAK,IAAb,qBACU,EAAV,gCAIMb,KAAKkP,iBAAiB,CACpBtE,KAAM,oBACNI,GAAI0E,EACJjD,OAAQzM,KAAKmP,kBACbpH,KAAMA,KAIV5F,UAAW,SAAf,cACMnC,KAAKuO,WAAWvM,GAAI,SAA1B,GAEQ,OADA,EAAR,kBACeD,MAIX4N,eAAgB,SAApB,GACM,IAAN,0BACM,GAAIX,MAAMC,QAAQrH,GAAY,CAApC,uBACA,GADA,IACA,0CACA,wCAFA,iCAOIgG,oBAAqB,SAAzB,GACM,GAAU,MAANgC,GAA0B,MAAZA,EAAG/G,MACnB,OAAO,EAGT,IAAN,kBAEM,OAAOxF,KAAKoD,OAAOqC,EAAM8G,EAAG/G,OAAS,MAGvC2E,gBAAiB,SAArB,cACA,iCACA,iEAEA,sBACA,IAKM,OAJIwB,MAAMC,QAAQpH,KAChBgI,EAAkBhI,EAAS0F,QAAO,SAA1C,yCAGauC,EAAcD,GAGvBE,oBAAqB,WACnB,GAAuB,MAAnB/P,KAAKoN,YAAkD,MAA5BpN,KAAKoN,WAAW9G,SACzC+C,SAAS2G,QAAUhQ,KAAKiQ,gBAC1B5G,SAAS2G,MAAQhQ,KAAKiQ,mBAEhC,CACQ,IAAR,8BACU1J,UAAU,EACV1E,YAAawB,KAAKC,IAAItD,KAAKoN,WAAW9G,UAAY,KAGpD,GAAgB,MAAZA,EAAkB,CACpB,IAAV,2BACU+C,SAAS2G,MAAQ,GAA3B,6BAKIrO,eAAgB,EAEhB6N,OAAQ,WACNxP,KAAKwM,IAAMvG,KAAKuG,OAGlB0D,SAAU,SAAd,cACMlQ,KAAKwP,SACLxP,KAAK+P,sBACL/F,YAAW,WAAjB,4BAIEhB,QAAS,WAAX,WACIhJ,KAAKiQ,cAAgB5G,SAAS2G,MAE9B,EAAJ,oDAEIhQ,KAAKiJ,IAAIC,iBAAiB,OAAQlJ,KAAKuK,QACvCvK,KAAKiJ,IAAIC,iBAAiB,WAAYlJ,KAAKqK,YAC3CrK,KAAKiJ,IAAIC,iBAAiB,YAAalJ,KAAKsK,aAE5C,IAAJ,qBACItK,KAAKmQ,OAAO,YAAaC,EAAe,CAA5C,UACIpQ,KAAKmQ,OAAO,gBAAiBC,EAAe,CAAhD,WAGE7G,cAAe,WACbvJ,KAAKiJ,IAAIO,oBAAoB,OAAQxJ,KAAKuK,QAC1CvK,KAAKiJ,IAAIO,oBAAoB,WAAYxJ,KAAKqK,YAC9CrK,KAAKiJ,IAAIO,oBAAoB,YAAaxJ,KAAKsK,eCtmB2Q,ICQ1T,G,UAAY,eACd,EACA,EACAzH,GACA,EACA,KACA,KACA,OAIa,I,QChBfwN,OAAI1F,OAAO2F,eAAgB,EAE3B,IAAID,OAAI,CACNE,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,MACdC,OAAO,S,oCCPV,W,oCCAA,W,kCCAA","file":"js/app.9a3093d8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeslot.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ loaded: 1, dropzone: _vm.dropzone },attrs:{\"id\":\"time-tracker\"}},[_c('main',[_c('div',{staticClass:\"top-container\"},[_c('div',{staticClass:\"left\"},[(_vm.rootTasks.length > 0)?_c('button',{staticClass:\"remove-all\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.clearAll($event.clientY)}}},[_c('i',{staticClass:\"far fa-trash-alt\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"remove all\")])]):_vm._e()]),_c('div',{staticClass:\"center\"},[_c('input',{staticClass:\"new-task\",attrs:{\"type\":\"text\",\"placeholder\":\"New task\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.inputTask($event.target)}}})]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"total-duration\",class:{ visible: _vm.absoluteTotalDuration > 0 }},[_c('i',{staticClass:\"far fa-clock\"}),_c('span',{staticClass:\"clock\",domProps:{\"textContent\":_vm._s(_vm.formatDuration(_vm.totalDuration, { showSeconds: _vm.absoluteTotalDuration < 60 }))}})])])]),_vm._l((_vm.rootTasks),function(task){return _c('Task',{key:task.id,attrs:{\"task\":task},on:{\"add-task\":function($event){return _vm.addTask($event)},\"remove-task-confirmation\":function($event){return _vm.removeTaskConfirmation($event)},\"reset-task\":function($event){return _vm.resetTask($event)},\"start-task\":function($event){return _vm.startTask($event)},\"stop-task\":function($event){return _vm.stopTask($event)},\"move-task\":function($event){return _vm.moveTask($event)},\"change-timeslot-begin\":function($event){return _vm.changeTimeslotBegin($event)},\"change-timeslot-end\":function($event){return _vm.changeTimeslotEnd($event)},\"remove-timeslot-confirmation\":function($event){return _vm.removeTimeslotConfirmation($event)},\"timeslot-to-new-task\":function($event){return _vm.timeslotToNewTask($event)},\"timeslot-to-task\":function($event){return _vm.timeslotToTask($event)}}})})],2),(_vm.confirmation.ok)?_c('ConfirmDialog',{attrs:{\"config\":_vm.confirmation}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export {\n  secondsToDisplayDuration,\n  saveToStorage,\n  getFromStorage,\n  timeToTimestamp,\n  sort,\n  zeropad,\n  pad,\n  formatDuration,\n  formatTimestamp,\n  runIfFn,\n};\n\n/**\n * Converts the given amount of total seconds to a display format (e.g. 2d5h6m1s)\n * For example, input 100950 would yield 1d4h2m30s\n * @param {number} totalSeconds The seconds to convert to XhYmZs format\n * @param {{showDays: boolean, showHours: boolean, showMinutes: boolean, showSeconds: boolean}} parts Specify which parts to show in the output\n */\nfunction secondsToDisplayDuration(\n  totalSeconds,\n  { showDays = true, showHours = true, showMinutes = true, showSeconds = true } = {}\n) {\n  const isNegative = totalSeconds < 0;\n\n  let seconds = Math.abs(totalSeconds);\n\n  const components = [\n    { label: \"d\", sec: 24 * 60 * 60, show: showDays },\n    { label: \"h\", sec: 60 * 60, show: showHours },\n    { label: \"m\", sec: 60, show: showMinutes },\n    { label: \"s\", sec: 1, show: showSeconds },\n  ].filter(v => v.show);\n\n  let output = \"\";\n  const last = components[components.length - 1];\n  for (const component of components) {\n    const value = Math.floor(seconds / component.sec);\n    seconds %= component.sec;\n\n    if (value > 0 || (!output && component === last)) {\n      output += value + component.label;\n    }\n  }\n\n  return (isNegative ? \"-\" : \"\") + output;\n}\n\nfunction saveToStorage(key, value) {\n  if (!window.localStorage) {\n    return;\n  }\n\n  window.localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getFromStorage(key) {\n  if (!window.localStorage) {\n    return null;\n  }\n\n  try {\n    var value = window.localStorage.getItem(key);\n    return JSON.parse(value);\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nfunction runIfFn(fn, thisArg) {\n  if (typeof fn === \"function\") {\n    var args = [].slice.apply(arguments).slice(2);\n    fn.apply(thisArg, args);\n  }\n}\n\n/**\n * Zeropads the given number (or string).\n * @param {string|number} nr Number to zeropad\n * @param {number} length Length to pad to\n */\nfunction zeropad(nr, length) {\n  return pad(nr, \"0\", length);\n}\n\n/**\n * Pads the given input string from the left with the given character until the input string reaches the specified length\n * @param {number|string} input String to pad\n * @param {string} char Pad character\n * @param {number} length Length to pad input to\n * @returns {string} Padded string\n */\nfunction pad(input, char, length) {\n  // Force to string\n  let str = `${input}`;\n  while (str.length < length) {\n    str = char + str;\n  }\n  return str;\n}\n\n/**\n * Converts the given time string to a timestamp. Only supports HH:mm and interprets it as a time of the current day in the local timezone.\n * @param {string} time Time string to convert to a timestamp.\n */\nfunction timeToTimestamp(time) {\n  const timeRe = /^([012]?[0-9]):?([0-5][0-9])$/;\n  const matches = timeRe.exec(time);\n\n  if (matches == null || matches.length !== 3) {\n    if (time) {\n      console.warn(`Invalid time string, should match RegExp ${timeRe} but got \"${time}\"`);\n    }\n\n    return null;\n  }\n\n  const hr = parseInt(matches[1], 10);\n  const min = parseInt(matches[2], 10);\n\n  const dt = new Date();\n  dt.setHours(hr);\n  dt.setMinutes(min);\n  dt.setSeconds(0, 0);\n\n  return dt.getTime();\n}\n\nfunction formatDuration(\n  duration,\n  { showZero = true, showSeconds = true, showMinutes = true, showHours = true, showDays = true } = {}\n) {\n  const rounded = Math.round(duration);\n  const format = secondsToDisplayDuration(rounded, {\n    showDays,\n    showSeconds,\n    showMinutes,\n    showHours,\n  });\n\n  if (!showZero && /^-?0[dhms]$/.test(format)) {\n    return null;\n  } else {\n    return format;\n  }\n}\n\nfunction formatTimestamp(timestamp, outputIfInvalid) {\n  if (typeof timestamp !== \"number\") {\n    if (timestamp != null) {\n      // User did pass in something so warn about wrong input here.\n      console.warn(`Timestamp should be a number, but got a ${typeof timestamp}`);\n    }\n\n    return outputIfInvalid;\n  }\n\n  const date = new Date(timestamp);\n\n  var hours = date.getHours();\n  var minutes = date.getMinutes();\n\n  return zeropad(hours, 2) + \":\" + zeropad(minutes, 2);\n}\n\nfunction sort(array, selector) {\n  return array.sort((a, b) => {\n    const vA = selector(a);\n    const vB = selector(b);\n    return vA > vB ? 1 : vB > vA ? -1 : 0;\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"task\",class:{\n    active: _vm.task.isActive,\n    'active-ancestor': _vm.task.isActiveAncestor,\n    dropzone: _vm.dropzone,\n    dragging: _vm.dragging,\n    subtask: _vm.task.parentId != null,\n    collapsed: _vm.collapsed,\n  }},[_c('div',{staticClass:\"task-head\",attrs:{\"draggable\":\"true\"}},[_c('div',{staticClass:\"left\"},[(!_vm.task.isActive)?_c('button',{attrs:{\"type\":\"button\",\"title\":\"Start\"},on:{\"click\":function($event){return _vm.$emit('start-task', _vm.task.id)}}},[_c('i',{staticClass:\"fas fa-play\"})]):_vm._e(),(_vm.task.isActive)?_c('button',{attrs:{\"type\":\"button\",\"title\":\"Stop\"},on:{\"click\":function($event){return _vm.$emit('stop-task', _vm.task.id)}}},[_c('i',{staticClass:\"fas fa-stop\"})]):_vm._e(),_c('button',{staticClass:\"add-subtask\",attrs:{\"type\":\"button\",\"title\":\"Add subtask\"},on:{\"click\":function($event){return _vm.$emit('add-task', { parentId: _vm.task.id })}}},[_c('i',{staticClass:\"fas fa-plus-circle\"})]),(_vm.task.timeslots.length || _vm.task.subTasks.length)?_c('button',{staticClass:\"toggle-collapse\",attrs:{\"type\":\"button\",\"title\":_vm.collapsed ? 'Expand' : 'Collapse'},on:{\"click\":function($event){_vm.collapsed = !_vm.collapsed}}},[(_vm.collapsed)?_c('i',{staticClass:\"fas fa-caret-down\"}):_vm._e(),(!_vm.collapsed)?_c('i',{staticClass:\"fas fa-caret-up\"}):_vm._e()]):_vm._e(),_c('button',{attrs:{\"type\":\"button\",\"title\":\"Remove\"},on:{\"click\":function($event){return _vm.$emit('remove-task-confirmation', { taskId: _vm.task.id, posY: $event.clientY })}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})])]),_c('div',{staticClass:\"center\"},[(!_vm.editName)?_c('div',{staticClass:\"task-name\",domProps:{\"textContent\":_vm._s(_vm.task.name)},on:{\"click\":function($event){return _vm.toggleEdit()}}}):_vm._e(),(_vm.editName)?_c('input',{directives:[{name:\"focus\",rawName:\"v-focus\"},{name:\"model\",rawName:\"v-model\",value:(_vm.task._source.name),expression:\"task._source.name\"}],staticClass:\"task-name edit\",attrs:{\"type\":\"text\",\"placeholder\":\"Task name\"},domProps:{\"value\":(_vm.task._source.name)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.cancelEdit()},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"escape\",undefined,$event.key,undefined)){ return null; }return _vm.cancelEdit()}],\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.task._source, \"name\", $event.target.value)}}}):_vm._e()]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"task-duration-wrapper\"},[_c('span',{staticClass:\"task-duration\",domProps:{\"textContent\":_vm._s(_vm.formatDuration(_vm.task.duration, { showZero: false, showSeconds: _vm.task.duration < 60 }))}})])])]),(_vm.task.timeslots.length || _vm.task.subTasks.length)?_c('div',{staticClass:\"task-body\"},[(_vm.task.timeslots.length)?_c('div',{staticClass:\"timeslots\"},_vm._l((_vm.task.timeslots),function(timeslot){return _c('Timeslot',{key:timeslot.id,attrs:{\"timeslot\":timeslot,\"task\":_vm.task},on:{\"change-timeslot-begin\":function($event){return _vm.$emit('change-timeslot-begin', $event)},\"change-timeslot-end\":function($event){return _vm.$emit('change-timeslot-end', $event)},\"remove-timeslot-confirmation\":function($event){return _vm.$emit('remove-timeslot-confirmation', $event)},\"timeslot-to-new-task\":function($event){return _vm.$emit('timeslot-to-new-task', $event)},\"timeslot-to-task\":function($event){return _vm.$emit('timeslot-to-task', $event)}}})}),1):_vm._e(),(_vm.task.subTasks.length)?_c('div',{staticClass:\"subtasks\"},_vm._l((_vm.task.subTasks),function(subTask){return _c('Task',{key:subTask.id,attrs:{\"task\":subTask},on:{\"add-task\":function($event){return _vm.$emit('add-task', $event)},\"remove-task-confirmation\":function($event){return _vm.$emit('remove-task-confirmation', $event)},\"reset-task\":function($event){return _vm.$emit('reset-task', $event)},\"start-task\":function($event){return _vm.$emit('start-task', $event)},\"stop-task\":function($event){return _vm.$emit('stop-task', $event)},\"move-task\":function($event){return _vm.$emit('move-task', $event)},\"change-timeslot-begin\":function($event){return _vm.$emit('change-timeslot-begin', $event)},\"change-timeslot-end\":function($event){return _vm.$emit('change-timeslot-end', $event)},\"remove-timeslot-confirmation\":function($event){return _vm.$emit('remove-timeslot-confirmation', $event)},\"timeslot-to-new-task\":function($event){return _vm.$emit('timeslot-to-new-task', $event)},\"timeslot-to-task\":function($event){return _vm.$emit('timeslot-to-task', $event)}}})}),1):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"timeslot\",class:{ active: _vm.timeslot.isActive, dragging: _vm.dragging },attrs:{\"draggable\":\"true\"}},[_c('span',{staticClass:\"timeslot-controls\"},[_c('span',{staticClass:\"timeslot-control\",attrs:{\"title\":\"Move to new subtask\"},on:{\"click\":function($event){return _vm.$emit('timeslot-to-new-task', _vm.timeslot.id)}}},[_c('i',{staticClass:\"far fa-window-maximize\"})]),_c('span',{staticClass:\"timeslot-control timeslot-remove\",attrs:{\"title\":\"Remove\"},on:{\"click\":function($event){return _vm.$emit('remove-timeslot-confirmation', { timeslotId: _vm.timeslot.id, posY: $event.clientY })}}},[_c('i',{staticClass:\"fas fa-trash-alt\"})])]),_c('span',{staticClass:\"timeslot-period\"},[_c('span',{staticClass:\"timeslot-begin\"},[(_vm.begin == null)?_c('span',{domProps:{\"textContent\":_vm._s(_vm.formatTimestamp(_vm.timeslot.begin, '???'))},on:{\"click\":function($event){_vm.begin = _vm.formatTimestamp(_vm.timeslot.begin, '???')}}}):_vm._e(),(_vm.begin != null)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.begin),expression:\"begin\"},{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"edit-time\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.begin)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.changeTimeslotBegin(_vm.begin)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"escape\",undefined,$event.key,undefined)){ return null; }_vm.begin = null}],\"input\":function($event){if($event.target.composing){ return; }_vm.begin=$event.target.value}}}):_vm._e()]),_c('span',{staticClass:\"timeslot-separator\"},[_vm._v(\"â€“\")]),_c('span',{staticClass:\"timeslot-end\"},[(_vm.end == null)?_c('span',{domProps:{\"textContent\":_vm._s(_vm.formatTimestamp(_vm.timeslot.end, '???'))},on:{\"click\":function($event){_vm.end = _vm.formatTimestamp(_vm.timeslot.end, '???')}}}):_vm._e(),(_vm.end != null)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.end),expression:\"end\"},{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"edit-time\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.end)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.changeTimeslotEnd(_vm.end)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"escape\",undefined,$event.key,undefined)){ return null; }_vm.end = null}],\"input\":function($event){if($event.target.composing){ return; }_vm.end=$event.target.value}}}):_vm._e()])]),_c('span',{staticClass:\"timeslot-right\"},[_c('span',{staticClass:\"timeslot-duration\",domProps:{\"textContent\":_vm._s(_vm.formatDuration(_vm.timeslot.duration, { showZero: false }))}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"timeslot\" draggable=\"true\" :class=\"{ active: timeslot.isActive, dragging: dragging }\">\n    <span class=\"timeslot-controls\">\n      <span class=\"timeslot-control\" title=\"Move to new subtask\" @click=\"$emit('timeslot-to-new-task', timeslot.id)\">\n        <i class=\"far fa-window-maximize\"></i>\n      </span>\n      <span\n        class=\"timeslot-control timeslot-remove\"\n        title=\"Remove\"\n        @click=\"$emit('remove-timeslot-confirmation', { timeslotId: timeslot.id, posY: $event.clientY })\"\n      >\n        <i class=\"fas fa-trash-alt\"></i>\n      </span>\n    </span>\n\n    <span class=\"timeslot-period\">\n      <span class=\"timeslot-begin\">\n        <span\n          v-if=\"begin == null\"\n          v-text=\"formatTimestamp(timeslot.begin, '???')\"\n          @click=\"begin = formatTimestamp(timeslot.begin, '???')\"\n        >\n        </span>\n\n        <input\n          class=\"edit-time\"\n          type=\"text\"\n          v-if=\"begin != null\"\n          v-model=\"begin\"\n          v-focus\n          @keyup.enter=\"changeTimeslotBegin(begin)\"\n          @keyup.escape=\"begin = null\"\n        />\n      </span>\n\n      <span class=\"timeslot-separator\">&ndash;</span>\n\n      <span class=\"timeslot-end\">\n        <span\n          v-if=\"end == null\"\n          v-text=\"formatTimestamp(timeslot.end, '???')\"\n          @click=\"end = formatTimestamp(timeslot.end, '???')\"\n        ></span>\n        <input\n          type=\"text\"\n          class=\"edit-time\"\n          v-if=\"end != null\"\n          v-model=\"end\"\n          v-focus\n          @keyup.enter=\"changeTimeslotEnd(end)\"\n          @keyup.escape=\"end = null\"\n        />\n      </span>\n    </span>\n\n    <span class=\"timeslot-right\">\n      <span class=\"timeslot-duration\" v-text=\"formatDuration(timeslot.duration, { showZero: false })\"></span>\n    </span>\n  </div>\n</template>\n\n<script>\nimport * as utils from \"../utils.js\";\n\nexport default {\n  name: \"Timeslot\",\n  props: {\n    timeslot: Object,\n    task: Object,\n  },\n  mounted: function() {\n    this.$el.addEventListener(\"dragstart\", this.onDragStart);\n    this.$el.addEventListener(\"dragend\", this.onDragEnd);\n    document.addEventListener(\"click\", this.onClick);\n  },\n\n  beforeDestroy: function() {\n    this.$el.removeEventListener(\"dragstart\", this.onDragStart);\n    this.$el.removeEventListener(\"dragend\", this.onDragEnd);\n    document.removeEventListener(\"click\", this.onClick);\n  },\n\n  data: function() {\n    return {\n      // when editing begin or end,\n      // the models for the inputs will be begin/end.\n      begin: null,\n      end: null,\n      dragging: false,\n    };\n  },\n\n  methods: {\n    formatTimestamp: utils.formatTimestamp,\n    formatDuration: utils.formatDuration,\n\n    changeTimeslotBegin: function(time) {\n      const timeslotId = this.timeslot.id;\n      const timestamp = utils.timeToTimestamp(time);\n      this.$emit(\"change-timeslot-begin\", { timeslotId, timestamp });\n      this.begin = null;\n    },\n\n    changeTimeslotEnd: function(time) {\n      const timeslotId = this.timeslot.id;\n      const timestamp = utils.timeToTimestamp(time);\n      this.$emit(\"change-timeslot-end\", { timeslotId, timestamp });\n      this.end = null;\n    },\n\n    onDragStart: function(ev) {\n      ev.stopPropagation();\n\n      ev.dataTransfer.effectAllowed = \"move\";\n      ev.dataTransfer.dropEffect = \"move\";\n      ev.dataTransfer.setData(\"timeslotId\", this.timeslot.id);\n      ev.dataTransfer.setData(\"taskId\", this.timeslot.taskId);\n\n      setTimeout(() => (this.dragging = true));\n    },\n\n    onDragEnd: function(ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n      this.dragging = false;\n    },\n\n    onClick: function(ev) {\n      if (ev.target == null || ev.target.parentNode == null) {\n        // Ignore\n        return;\n      }\n\n      const timeslot = ev.target.closest(\".timeslot\");\n      if (timeslot !== this.$el) {\n        this.begin = null;\n        this.end = null;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../styles/extends.less\";\n@import \"../styles/variables.less\";\n\n#time-tracker {\n  .timeslot {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0.25em 0;\n\n    > .timeslot-controls {\n      flex: 1;\n\n      > .timeslot-control {\n        visibility: hidden;\n        color: @dark;\n        padding: 0.35em;\n\n        > i {\n          display: inline-block;\n        }\n\n        &.timeslot-to-task {\n          > i {\n            transform: rotate(-90deg);\n          }\n        }\n\n        &:hover {\n          cursor: pointer;\n          color: @purple;\n\n          &.timeslot-remove {\n            color: @red;\n          }\n        }\n      }\n\n      &:hover > .timeslot-control {\n        visibility: visible;\n      }\n    }\n\n    .timeslot-period {\n      flex: 1;\n      text-align: center;\n      display: flex;\n\n      .timeslot-begin {\n        flex: 4;\n        text-align: right;\n\n        > .edit-time {\n          text-align: right;\n        }\n\n        &:hover {\n          cursor: text;\n        }\n      }\n\n      .timeslot-separator {\n        flex: 1;\n      }\n\n      .timeslot-end {\n        flex: 4;\n        text-align: left;\n\n        &:hover {\n          cursor: text;\n        }\n      }\n\n      .edit-time {\n        width: 3em;\n        border: none;\n        font-size: 1em;\n        outline: none;\n        padding: 0;\n        font-weight: bold;\n      }\n    }\n\n    &.active .timeslot-end {\n      font-weight: bold;\n      color: @purple;\n    }\n\n    .timeslot-right {\n      flex: 1;\n      text-align: right;\n\n      .timeslot-duration {\n        font-size: 0.9em;\n        text-align: right;\n      }\n    }\n\n    &.dragging {\n      &:extend(._dragging all);\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeslot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Timeslot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Timeslot.vue?vue&type=template&id=c8816cee&\"\nimport script from \"./Timeslot.vue?vue&type=script&lang=js&\"\nexport * from \"./Timeslot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Timeslot.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    class=\"task\"\n    :class=\"{\n      active: task.isActive,\n      'active-ancestor': task.isActiveAncestor,\n      dropzone: dropzone,\n      dragging: dragging,\n      subtask: task.parentId != null,\n      collapsed: collapsed,\n    }\"\n  >\n    <div class=\"task-head\" draggable=\"true\">\n      <div class=\"left\">\n        <button type=\"button\" title=\"Start\" v-if=\"!task.isActive\" @click=\"$emit('start-task', task.id)\">\n          <i class=\"fas fa-play\"></i>\n        </button>\n        <button type=\"button\" title=\"Stop\" v-if=\"task.isActive\" @click=\"$emit('stop-task', task.id)\">\n          <i class=\"fas fa-stop\"></i>\n        </button>\n        <button type=\"button\" class=\"add-subtask\" title=\"Add subtask\" @click=\"$emit('add-task', { parentId: task.id })\">\n          <i class=\"fas fa-plus-circle\"></i>\n        </button>\n        <button\n          type=\"button\"\n          class=\"toggle-collapse\"\n          v-if=\"task.timeslots.length || task.subTasks.length\"\n          :title=\"collapsed ? 'Expand' : 'Collapse'\"\n          @click=\"collapsed = !collapsed\"\n        >\n          <i v-if=\"collapsed\" class=\"fas fa-caret-down\"></i>\n          <i v-if=\"!collapsed\" class=\"fas fa-caret-up\"></i>\n        </button>\n        <button\n          type=\"button\"\n          title=\"Remove\"\n          @click=\"$emit('remove-task-confirmation', { taskId: task.id, posY: $event.clientY })\"\n        >\n          <i class=\"fas fa-trash-alt\"></i>\n        </button>\n      </div>\n\n      <div class=\"center\">\n        <div v-if=\"!editName\" class=\"task-name\" @click=\"toggleEdit()\" v-text=\"task.name\"></div>\n        <input\n          type=\"text\"\n          class=\"task-name edit\"\n          placeholder=\"Task name\"\n          v-focus\n          v-if=\"editName\"\n          v-model=\"task._source.name\"\n          @keyup.enter=\"cancelEdit()\"\n          @keyup.escape=\"cancelEdit()\"\n        />\n      </div>\n\n      <div class=\"right\">\n        <div class=\"task-duration-wrapper\">\n          <span\n            class=\"task-duration\"\n            v-text=\"formatDuration(task.duration, { showZero: false, showSeconds: task.duration < 60 })\"\n          ></span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"task-body\" v-if=\"task.timeslots.length || task.subTasks.length\">\n      <div class=\"timeslots\" v-if=\"task.timeslots.length\">\n        <Timeslot\n          v-for=\"timeslot in task.timeslots\"\n          :key=\"timeslot.id\"\n          :timeslot=\"timeslot\"\n          :task=\"task\"\n          @change-timeslot-begin=\"$emit('change-timeslot-begin', $event)\"\n          @change-timeslot-end=\"$emit('change-timeslot-end', $event)\"\n          @remove-timeslot-confirmation=\"$emit('remove-timeslot-confirmation', $event)\"\n          @timeslot-to-new-task=\"$emit('timeslot-to-new-task', $event)\"\n          @timeslot-to-task=\"$emit('timeslot-to-task', $event)\"\n        />\n      </div>\n\n      <div class=\"subtasks\" v-if=\"task.subTasks.length\">\n        <Task\n          v-for=\"subTask in task.subTasks\"\n          :key=\"subTask.id\"\n          :task=\"subTask\"\n          @add-task=\"$emit('add-task', $event)\"\n          @remove-task-confirmation=\"$emit('remove-task-confirmation', $event)\"\n          @reset-task=\"$emit('reset-task', $event)\"\n          @start-task=\"$emit('start-task', $event)\"\n          @stop-task=\"$emit('stop-task', $event)\"\n          @move-task=\"$emit('move-task', $event)\"\n          @change-timeslot-begin=\"$emit('change-timeslot-begin', $event)\"\n          @change-timeslot-end=\"$emit('change-timeslot-end', $event)\"\n          @remove-timeslot-confirmation=\"$emit('remove-timeslot-confirmation', $event)\"\n          @timeslot-to-new-task=\"$emit('timeslot-to-new-task', $event)\"\n          @timeslot-to-task=\"$emit('timeslot-to-task', $event)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as utils from \"../utils.js\";\nimport Timeslot from \"./Timeslot.vue\";\n\nexport default {\n  name: \"Task\",\n  components: { Timeslot },\n  props: {\n    task: Object,\n    parentId: Number,\n  },\n\n  mounted: function() {\n    const el = this.$el;\n\n    el.addEventListener(\"dragstart\", this.onDragStart);\n    el.addEventListener(\"dragend\", this.onDragEnd);\n    el.addEventListener(\"dragover\", this.onDragOver);\n    el.addEventListener(\"dragleave\", this.onDragLeave);\n    el.addEventListener(\"drop\", this.onDrop);\n\n    if (!this.task.name) {\n      this.editName = true;\n    }\n\n    // When a task is created through a click we do not want to\n    // execute the onClick handler for that one.\n    // So add event listener on next loop.\n    setTimeout(() => document.addEventListener(\"click\", this.onClick));\n  },\n\n  beforeDestroy: function() {\n    this.$el.removeEventListener(\"dragstart\", this.onDragStart);\n    this.$el.removeEventListener(\"dragend\", this.onDragEnd);\n    this.$el.removeEventListener(\"dragover\", this.onDragOver);\n    this.$el.removeEventListener(\"drop\", this.onDrop);\n    this.$el.removeEventListener(\"dragleave\", this.onDragLeave);\n\n    document.removeEventListener(\"click\", this.onClick);\n  },\n\n  data: function() {\n    return {\n      dropzone: false,\n      dragging: false,\n      editName: false,\n      collapsed: false,\n    };\n  },\n\n  methods: {\n    formatTimestamp: utils.formatTimestamp,\n    formatDuration: utils.formatDuration,\n\n    onDragStart: function(ev) {\n      ev.stopPropagation();\n\n      ev.dataTransfer.effectAllowed = \"move\";\n      ev.dataTransfer.dropEffect = \"move\";\n      ev.dataTransfer.setData(\"taskId\", this.task.id);\n\n      // DOM modifications due to changing `this.dragging`\n      // can lead to an immediate dragend event,\n      // which is why we use a setTimeout to work around that.\n      setTimeout(() => (this.dragging = true));\n    },\n\n    onDragEnd: function(ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n      this.dragging = false;\n    },\n\n    onDragOver: function(ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      if (this.dragging) {\n        // Cannot be their own dropzone\n        ev.dataTransfer.dropEffect = \"none\";\n      } else {\n        this.dropzone = true;\n      }\n    },\n\n    onDragLeave: function(ev) {\n      ev.preventDefault();\n\n      this.dropzone = false;\n    },\n\n    onDrop: function(ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      this.dropzone = false;\n\n      const taskId = parseInt(ev.dataTransfer.getData(\"taskId\"), 10);\n      const timeslotId = parseInt(ev.dataTransfer.getData(\"timeslotId\"), 10);\n\n      if (isNaN(taskId)) {\n        // Nothing to do\n        return;\n      }\n\n      if (!isNaN(timeslotId)) {\n        this.onDropTimeslot(timeslotId);\n      } else {\n        this.onDropTask(taskId);\n      }\n    },\n\n    onDropTask: function(taskId) {\n      this.$emit(\"move-task\", {\n        taskId: taskId,\n        parentId: this.task.id,\n      });\n    },\n\n    onDropTimeslot: function(timeslotId) {\n      this.$emit(\"timeslot-to-task\", {\n        id: timeslotId,\n        taskId: this.task.id,\n      });\n    },\n\n    onClick: function(ev) {\n      if (ev.target == null || ev.target.parentNode == null) {\n        // Ignore\n        return;\n      }\n\n      const task = ev.target.closest(\".task\");\n      if (task !== this.$el) {\n        this.cancelEdit();\n      }\n    },\n\n    toggleEdit: function() {\n      this.editName = !this.editName;\n    },\n\n    cancelEdit: function() {\n      this.editName = false;\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../styles/extends.less\";\n@import \"../styles/variables.less\";\n\n#time-tracker {\n  .task {\n    margin: 2em 0 0 0;\n    background-color: white;\n    box-shadow: 0 0 1px 0 lightgrey, 1px 1px 2px grey;\n\n    ~ .task {\n      margin-top: 1em;\n    }\n\n    &.subtask {\n      margin-top: 0.5em;\n      margin-bottom: 0.5em;\n\n      ~ .subtask {\n        margin-top: 1em;\n      }\n    }\n\n    > .task-head {\n      padding: 0;\n      background-color: @dark;\n      color: white;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      > .left,\n      > .right {\n        flex: 2;\n      }\n\n      > .left {\n        display: flex;\n\n        > button {\n          flex: 1;\n          visibility: hidden;\n          padding: 0.5em;\n          border: none;\n          box-shadow: none;\n          color: @light;\n          max-width: 2.5em;\n\n          &.toggle-collapse,\n          &.add-subtask {\n            > i {\n              font-size: 1em;\n            }\n          }\n\n          &:hover {\n            background-color: white;\n            color: @purple;\n          }\n        }\n\n        &:hover > button {\n          visibility: visible;\n        }\n\n        > span {\n          visibility: hidden;\n        }\n\n        &:hover {\n          > span {\n            visibility: visible;\n          }\n\n          cursor: pointer;\n        }\n      }\n\n      > .center {\n        flex: 3;\n\n        .task-name {\n          padding: 0.5em 0;\n          text-align: center;\n\n          &:hover {\n            cursor: text;\n          }\n\n          &.edit {\n            width: 100%;\n            border: none;\n            font-size: 1em;\n\n            &:focus {\n              &:extend(._focus);\n              border: none;\n            }\n          }\n        }\n      }\n\n      > .right {\n        display: flex;\n        justify-content: flex-end;\n\n        .task-duration-wrapper {\n          padding: 0.5em 1em;\n\n          .task-duration {\n            font-size: 0.9em;\n            font-weight: bold;\n            text-align: right;\n          }\n        }\n      }\n    }\n\n    &.subtask > .task-head {\n      background-color: #ddd;\n      color: @dark;\n\n      > .left > button {\n        color: @dark;\n\n        &:hover {\n          background-color: white;\n          color: @purple;\n        }\n      }\n    }\n\n    > .task-controls {\n      display: flex;\n\n      > button {\n        flex: 1;\n      }\n    }\n\n    > .task-body {\n      padding: 0.5em 1em;\n\n      .subtasks {\n        font-size: 0.95em;\n      }\n    }\n\n    &.active {\n      > .task-head {\n        background-color: @purple;\n        color: white;\n\n        > .left > button {\n          color: white;\n\n          &:hover {\n            color: @purple;\n          }\n        }\n      }\n    }\n\n    &.active-ancestor {\n      > .task-head > .right > .task-duration-wrapper {\n        background-color: @purple;\n        color: white;\n      }\n    }\n\n    &.dropzone {\n      &:extend(._dropzone);\n      box-shadow: none;\n    }\n\n    &.dragging {\n      &:extend(._dragging all);\n      box-shadow: none;\n    }\n\n    &.collapsed {\n      > .task-body {\n        display: none;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Task.vue?vue&type=template&id=46a165f9&\"\nimport script from \"./Task.vue?vue&type=script&lang=js&\"\nexport * from \"./Task.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Task.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"confirm-dialog-wrapper\"},[_c('div',{staticClass:\"confirm-dialog\"},[_c('div',{staticClass:\"text\",domProps:{\"textContent\":_vm._s(_vm.config.text)}}),_c('div',{staticClass:\"buttons\"},[_c('button',{staticClass:\"cancel\",attrs:{\"type\":\"button\"},domProps:{\"textContent\":_vm._s(_vm.config.cancelText)},on:{\"click\":function($event){return _vm.cancel()}}}),_c('button',{staticClass:\"ok\",attrs:{\"type\":\"button\"},domProps:{\"textContent\":_vm._s(_vm.config.okText)},on:{\"click\":function($event){return _vm.ok()}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"confirm-dialog-wrapper\">\n    <div class=\"confirm-dialog\">\n      <div class=\"text\" v-text=\"config.text\"></div>\n      <div class=\"buttons\">\n        <button class=\"cancel\" type=\"button\" @click=\"cancel()\" v-text=\"config.cancelText\"></button>\n        <button class=\"ok\" type=\"button\" @click=\"ok()\" v-text=\"config.okText\"></button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as utils from \"../utils.js\";\n\nexport default {\n  name: \"confirm-dialog\",\n  props: {\n    config: Object,\n  },\n\n  data: () => ({\n    minMarginPercentage: 0.02,\n  }),\n\n  mounted: function() {\n    this.$el.addEventListener(\"click\", this.onClick);\n    document.addEventListener(\"keyup\", this.onKeyup);\n\n    if (this.config.posY != null) {\n      const dialog = this.$el.querySelector(\".confirm-dialog\");\n      if (dialog != null) {\n        const viewport = this.getViewport();\n        // Vertical margin: % of max height\n        const minMargin = this.minMarginPercentage * viewport.height;\n        const dialogRect = dialog.getBoundingClientRect();\n\n        // When the dialog with margins on both sides still has space left in the viewport\n        // we consider it to be rearrangeable\n        const rearrangeable = dialogRect.height + 2 * minMargin < viewport.height;\n\n        let top;\n        if (rearrangeable) {\n          // Target position for dialog: vertically centered at posY.\n          top = this.config.posY - dialog.clientHeight / 2;\n          const bottom = top + dialogRect.height;\n          if (top < minMargin) {\n            top = minMargin;\n          } else if (viewport.height - bottom < minMargin) {\n            top = viewport.height - minMargin - dialogRect.height;\n          }\n        } else {\n          // Not rearrangable, simply center vertically in viewport.\n          // This ignores config.posY.\n          top = viewport.height / 2 - dialog.clientHeight / 2;\n        }\n\n        dialog.style.position = \"absolute\";\n        dialog.style.top = top + \"px\";\n      }\n    }\n  },\n\n  beforeDestroy: function() {\n    this.$el.removeEventListener(\"click\", this.onClick);\n    document.removeEventListener(\"keyup\", this.onKeyup);\n  },\n\n  methods: {\n    ok: function() {\n      utils.runIfFn(this.config.ok);\n      utils.runIfFn(this.config.always);\n    },\n\n    cancel: function() {\n      utils.runIfFn(this.config.cancel);\n      utils.runIfFn(this.config.always);\n    },\n\n    onClick: function(ev) {\n      ev.preventDefault();\n      ev.stopPropagation();\n\n      if (ev.target === this.$el) {\n        this.cancel();\n      }\n    },\n\n    onKeyup: function(ev) {\n      if (ev.keyCode === 27) {\n        // Cancel on escape\n        this.cancel();\n      }\n    },\n\n    getViewport: function() {\n      return {\n        top: 0,\n        left: 0,\n        width: window.innerWidth,\n        height: window.innerHeight,\n      };\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n@import \"../styles/extends.less\";\n\n#time-tracker {\n  .confirm-dialog-wrapper {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: rgba(0, 0, 0, 0.8);\n\n    > .confirm-dialog {\n      background-color: white;\n      padding: 2em;\n      min-width: 15em;\n      border-radius: 0.2em;\n\n      > .text {\n        display: block;\n        margin-bottom: 1.5em;\n        font-weight: bold;\n        text-align: center;\n      }\n\n      > .buttons {\n        display: flex;\n\n        > button {\n          flex: 1;\n\n          &:focus,\n          &:hover {\n            &:extend(._focus);\n          }\n\n          &:active {\n            &:extend(._active);\n          }\n        }\n\n        > .ok {\n          margin-left: 1em;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=548eb35a&\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConfirmDialog.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"time-tracker\" :class=\"{ loaded: 1, dropzone: dropzone }\">\n    <main>\n      <div class=\"top-container\">\n        <div class=\"left\">\n          <button v-if=\"rootTasks.length > 0\" type=\"button\" @click=\"clearAll($event.clientY)\" class=\"remove-all\">\n            <i class=\"far fa-trash-alt\"></i>\n            <span class=\"text\">remove all</span>\n          </button>\n        </div>\n        <div class=\"center\">\n          <input class=\"new-task\" type=\"text\" placeholder=\"New task\" @keyup.enter=\"inputTask($event.target)\" />\n        </div>\n        <div class=\"right\">\n          <div class=\"total-duration\" :class=\"{ visible: absoluteTotalDuration > 0 }\">\n            <i class=\"far fa-clock\"></i>\n            <span\n              class=\"clock\"\n              v-text=\"formatDuration(totalDuration, { showSeconds: absoluteTotalDuration < 60 })\"\n            ></span>\n          </div>\n        </div>\n      </div>\n\n      <Task\n        v-for=\"task in rootTasks\"\n        :key=\"task.id\"\n        :task=\"task\"\n        @add-task=\"addTask($event)\"\n        @remove-task-confirmation=\"removeTaskConfirmation($event)\"\n        @reset-task=\"resetTask($event)\"\n        @start-task=\"startTask($event)\"\n        @stop-task=\"stopTask($event)\"\n        @move-task=\"moveTask($event)\"\n        @change-timeslot-begin=\"changeTimeslotBegin($event)\"\n        @change-timeslot-end=\"changeTimeslotEnd($event)\"\n        @remove-timeslot-confirmation=\"removeTimeslotConfirmation($event)\"\n        @timeslot-to-new-task=\"timeslotToNewTask($event)\"\n        @timeslot-to-task=\"timeslotToTask($event)\"\n      />\n    </main>\n\n    <ConfirmDialog v-if=\"confirmation.ok\" :config=\"confirmation\" />\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport * as utils from \"./utils.js\";\nimport Task from \"./components/Task.vue\";\nimport ConfirmDialog from \"./components/ConfirmDialog.vue\";\nimport debounce from \"lodash/debounce\";\n\nconst initialId = 1;\n\nVue.directive(\"focus\", {\n  inserted: el => el.focus(),\n});\n\nexport default {\n  name: \"app\",\n  components: {\n    Task,\n    ConfirmDialog,\n  },\n\n  data: () => {\n    const state = {\n      // Persisted state\n      nextId: initialId,\n      tasksById: {},\n      timeslotsById: {},\n\n      // Transient state\n      now: Date.now(),\n      dropzone: false,\n\n      confirmation: {\n        ok: null,\n        okText: null,\n        cancel: null,\n        cancelText: null,\n        text: null,\n        always: null,\n        posY: null,\n      },\n    };\n\n    const savedState = utils.getFromStorage(\"time-tracker\");\n    if (savedState != null) {\n      Object.assign(state, savedState);\n    }\n\n    return state;\n  },\n\n  computed: {\n    tasks: function() {\n      return Object.values(this.tasksById);\n    },\n\n    timeslots: function() {\n      return Object.values(this.timeslotsById);\n    },\n\n    timeslotsByTask: function() {\n      const timeslotsByTask = {};\n\n      for (const timeslot of this.timeslots) {\n        if (timeslot.taskId != null) {\n          if (timeslotsByTask[timeslot.taskId] == null) {\n            timeslotsByTask[timeslot.taskId] = [];\n          }\n\n          timeslotsByTask[timeslot.taskId].push(timeslot);\n        }\n      }\n\n      return timeslotsByTask;\n    },\n\n    computedTasks: function() {\n      return this.tasks.map(this.getComputedTask);\n    },\n\n    rootTasks: function() {\n      return this.computedTasks.filter(task => task.parentId == null);\n    },\n\n    subTasks: function() {\n      const subTasks = {};\n\n      for (const task of this.tasks) {\n        if (task.parentId != null) {\n          if (subTasks[task.parentId] == null) {\n            subTasks[task.parentId] = [];\n          }\n\n          subTasks[task.parentId].push(task);\n        }\n      }\n\n      return subTasks;\n    },\n\n    activeTask: function() {\n      return this.computedTasks.find(task => task.isActive);\n    },\n\n    ancestors: function() {\n      const ancestors = {};\n\n      const cache = {};\n\n      for (const task of this.tasks) {\n        ancestors[task.id] = this.getAncestors(task, cache);\n      }\n\n      return ancestors;\n    },\n\n    totalDuration: function() {\n      return this.rootTasks.reduce((sum, task) => sum + this.getTaskDuration(task), 0);\n    },\n\n    absoluteTotalDuration: function() {\n      return Math.abs(this.totalDuration);\n    },\n  },\n\n  methods: {\n    getComputedTask: function(task) {\n      const timeslots = this.timeslotsByTask[task.id] || [];\n\n      const subTasks = this.getSubTasks(task).map(this.getComputedTask);\n\n      return Object.assign({}, task, {\n        duration: this.getTaskDuration(task),\n        timeslots: timeslots.map(this.getComputedTimeslot),\n        subTasks,\n        isActive: timeslots.some(timeslot => timeslot.begin != null && timeslot.end == null),\n        isActiveAncestor: subTasks.some(subTask => subTask.isActive || subTask.isActiveAncestor),\n\n        // Reference to source object\n        _source: task,\n      });\n    },\n\n    getSubTasks: function(parentTask) {\n      const subTasks = [];\n\n      for (const task of this.tasks) {\n        if (task.parentId === parentTask.id) {\n          subTasks.push(task);\n        }\n      }\n\n      return subTasks;\n    },\n\n    getComputedTimeslot: function(timeslot) {\n      return Object.assign({}, timeslot, {\n        isActive: timeslot.begin != null && timeslot.end == null,\n        end: timeslot.end || this.now,\n        duration: this.getTimeslotDuration(timeslot),\n\n        // Reference to source object\n        _source: timeslot,\n      });\n    },\n\n    getAncestors: function(task, cache) {\n      const parent = this.tasksById[task.parentId];\n      if (parent == null) {\n        return [];\n      }\n\n      if (cache[task.id] != null) {\n        return cache[task.id];\n      }\n\n      if (parent != null) {\n        const ancestors = [parent, ...this.getAncestors(parent, cache)];\n        cache[task.id] = ancestors;\n        return ancestors;\n      }\n    },\n\n    /**\n     * @returns {boolean} true if taskA is an ancestor of taskB\n     */\n    isAncestor: function(taskA, taskB) {\n      return this.ancestors[taskB.id].indexOf(taskA) > -1;\n    },\n\n    save: function() {\n      // Persist subset of state\n      const { nextId, tasksById, timeslotsById } = this;\n      const toSave = { nextId, tasksById, timeslotsById };\n      utils.saveToStorage(\"time-tracker\", toSave);\n    },\n\n    inputTask: function(inputElement) {\n      this.addTask({ name: inputElement.value });\n      inputElement.value = \"\";\n    },\n\n    addTask: function({ name, parentId }) {\n      const newTask = this.createTask(name, parentId);\n      this.startTask(newTask.id);\n    },\n\n    createTask: function(name, parentId) {\n      const id = this.nextId++;\n\n      const task = {\n        id,\n        parentId,\n        name: name,\n      };\n\n      Vue.set(this.tasksById, id, task);\n\n      return task;\n    },\n\n    moveTask: function({ taskId, parentId }) {\n      if (taskId != null && parentId != null && taskId !== parentId) {\n        const task = this.tasksById[taskId];\n        const parent = this.tasksById[parentId];\n\n        if (task == null || parent == null || task.parentId === parent.id) {\n          return;\n        }\n\n        if (this.isAncestor(task, parent)) {\n          // A task cannot be moved to its descendant,\n          // that can create a cycle\n          return;\n        }\n\n        this.updateTask(taskId, task => {\n          Vue.set(task, \"parentId\", parentId);\n          return task;\n        });\n      }\n    },\n\n    changeTimeslotBegin: function(args) {\n      this.changeTimeslotTimestamp(args, \"begin\");\n    },\n\n    changeTimeslotEnd: function(args) {\n      this.changeTimeslotTimestamp(args, \"end\");\n    },\n\n    changeTimeslotTimestamp: function(args, property) {\n      const timeslotId = args.timeslotId;\n      const timestamp = args.timestamp;\n\n      this.updateTimeslot(timeslotId, timeslot => {\n        Vue.set(timeslot, property, timestamp);\n        return timeslot;\n      });\n    },\n\n    onDrop: function(ev) {\n      this.dropzone = false;\n\n      const taskId = ev.dataTransfer.getData(\"taskId\");\n      if (!taskId) {\n        return;\n      }\n\n      this.updateTask(taskId, task => {\n        Vue.delete(task, \"parentId\");\n        return task;\n      });\n    },\n\n    onDragOver: function(ev) {\n      ev.preventDefault();\n\n      const isTimeslot = ev.dataTransfer.types.indexOf(\"timeslotid\") > -1;\n      if (isTimeslot) {\n        ev.dataTransfer.dropEffect = \"none\";\n      } else {\n        this.dropzone = true;\n      }\n    },\n\n    onDragLeave: function(ev) {\n      ev.preventDefault();\n\n      this.dropzone = false;\n    },\n\n    updateTask: function(id, updateFn) {\n      const task = this.tasksById[id];\n      if (task == null) {\n        return;\n      }\n\n      updateFn(task);\n    },\n\n    updateTimeslot: function(id, updateFn, doneFn) {\n      const currentTimeslot = this.timeslotsById[id];\n      if (currentTimeslot == null) {\n        console.warn(`No timeslot found with id ${id}`);\n        return;\n      }\n\n      const newTimeslot = updateFn(currentTimeslot);\n      Vue.set(this.timeslotsById, newTimeslot.id, newTimeslot);\n      if (typeof doneFn === \"function\") {\n        doneFn();\n      }\n    },\n\n    startTask: function(id) {\n      const oldTask = this.activeTask;\n      if (oldTask && oldTask.id !== id) {\n        this.stopTask(oldTask.id);\n      }\n\n      this.updateTask(id, task => {\n        this.createTimeslot(id);\n        return task;\n      });\n    },\n\n    stopTask: function(id) {\n      this.updateTask(id, task => {\n        if (task == null) {\n          return;\n        }\n\n        const timeslots = this.timeslotsByTask[id] || [];\n        const activeSlots = timeslots.filter(slot => slot.begin != null && slot.end == null);\n\n        const now = Date.now();\n\n        for (const activeSlot of activeSlots) {\n          Vue.set(activeSlot, \"end\", now);\n        }\n\n        return task;\n      });\n    },\n\n    removeTask: function(id) {\n      if (!this.tasksById[id]) {\n        // Does not exist\n        return;\n      }\n\n      Vue.delete(this.tasksById, id);\n\n      const subTasks = this.subTasks[id];\n      if (Array.isArray(subTasks)) {\n        for (const subTask of subTasks) {\n          this.removeTask(subTask.id);\n        }\n      }\n\n      const timeslots = this.timeslotsByTask[id];\n      if (Array.isArray(timeslots)) {\n        for (const timeslot of timeslots) {\n          this.removeTimeslot(timeslot.id);\n        }\n      }\n\n      if (this.tasks.length === 0) {\n        this.nextId = initialId;\n      }\n    },\n\n    removeTaskConfirmation: function(evt) {\n      const taskId = evt.taskId;\n\n      const task = this.tasksById[taskId];\n      if (task == null) {\n        return;\n      }\n\n      const taskName = task.name || \"<no name>\";\n\n      this.showConfirmation({\n        text: `Delete ${taskName}?`,\n        ok: () => this.removeTask(taskId),\n        always: this.clearConfirmation,\n        posY: evt.posY,\n      });\n    },\n\n    showConfirmation: function({ text, ok, always, cancel, posY, okText = \"Yes\", cancelText = \"No\" }) {\n      Object.assign(this.confirmation, { text, ok, always, cancel, posY, okText, cancelText });\n    },\n\n    clearConfirmation: function() {\n      Object.keys(this.confirmation).forEach(key => (this.confirmation[key] = null));\n    },\n\n    createTimeslot: function(taskId) {\n      const id = this.nextId++;\n\n      this.setNow();\n\n      const timeslot = {\n        id,\n        taskId,\n        begin: this.now,\n      };\n\n      Vue.set(this.timeslotsById, id, timeslot);\n\n      return timeslot;\n    },\n\n    removeTimeslot: function(id) {\n      Vue.delete(this.timeslotsById, id);\n    },\n\n    removeTimeslotConfirmation: function(evt) {\n      const timeslotId = evt.timeslotId;\n      const timeslot = this.timeslotsById[timeslotId];\n      if (timeslot == null) {\n        return;\n      }\n\n      const task = this.tasksById[timeslot.taskId];\n      const taskName = (task && task.name) || \"<no task>\";\n\n      const computed = this.getComputedTimeslot(timeslot);\n      const begin = utils.formatTimestamp(computed.begin, \"???\");\n      const end = utils.formatTimestamp(computed.end, \"???\");\n\n      this.showConfirmation({\n        text: `Remove ${begin} - ${end} of ${taskName}?`,\n        ok: () => this.removeTimeslot(timeslotId),\n        always: this.clearConfirmation,\n        posY: evt.posY,\n      });\n    },\n\n    timeslotToNewTask: function(id) {\n      const timeslot = this.timeslotsById[id];\n\n      if (timeslot == null) {\n        return;\n      }\n\n      const newTask = this.createTask(null, timeslot.taskId);\n      this.timeslotToTask({ id, taskId: newTask.id });\n    },\n\n    timeslotToTask: function({ id, taskId }) {\n      if (this.tasksById[taskId] == null) {\n        return;\n      }\n\n      this.updateTimeslot(id, timeslot => {\n        Vue.set(timeslot, \"taskId\", taskId);\n        return timeslot;\n      });\n    },\n\n    clearAll: function(posY) {\n      const remove = () => {\n        this.nextId = initialId;\n        for (const taskId in this.tasksById) {\n          Vue.delete(this.tasksById, taskId);\n        }\n        for (const tsId in this.timeslotsById) {\n          Vue.delete(this.timeslotsById, tsId);\n        }\n      };\n\n      this.showConfirmation({\n        text: \"Remove all tasks?\",\n        ok: remove,\n        always: this.clearConfirmation,\n        posY: posY,\n      });\n    },\n\n    resetTask: function(id) {\n      this.updateTask(id, task => {\n        this.clearTimeslots(id);\n        return task;\n      });\n    },\n\n    clearTimeslots: function(taskId) {\n      const timeslots = this.timeslotsByTask[taskId];\n      if (Array.isArray(timeslots)) {\n        for (const timeslot of timeslots) {\n          Vue.delete(this.timeslotsById, timeslot.id);\n        }\n      }\n    },\n\n    getTimeslotDuration: function(ts) {\n      if (ts == null || ts.begin == null) {\n        return 0;\n      }\n\n      const end = ts.end || this.now;\n\n      return Math.round((end - ts.begin) / 1000);\n    },\n\n    getTaskDuration: function(task) {\n      const timeslots = this.timeslotsByTask[task.id] || [];\n      const taskSeconds = timeslots.reduce((sum, ts) => sum + this.getTimeslotDuration(ts), 0);\n\n      const subTasks = this.subTasks[task.id];\n      let subTasksSeconds = 0;\n      if (Array.isArray(subTasks)) {\n        subTasksSeconds = subTasks.reduce((sum, subTask) => sum + this.getTaskDuration(subTask), 0);\n      }\n\n      return taskSeconds + subTasksSeconds;\n    },\n\n    updateDocumentTitle: function() {\n      if (this.activeTask == null || this.activeTask.duration == null) {\n        if (document.title !== this.documentTitle) {\n          document.title = this.documentTitle;\n        }\n      } else {\n        const duration = utils.formatDuration(this.activeTask.duration, {\n          showZero: false,\n          showSeconds: Math.abs(this.activeTask.duration) < 60,\n        });\n\n        if (duration != null) {\n          const name = this.activeTask.name || \"\";\n          document.title = `${duration} - ${name}`;\n        }\n      }\n    },\n\n    formatDuration: utils.formatDuration,\n\n    setNow: function() {\n      this.now = Date.now();\n    },\n\n    mainLoop: function(timeout) {\n      this.setNow();\n      this.updateDocumentTitle();\n      setTimeout(() => this.mainLoop(timeout), timeout);\n    },\n  },\n\n  mounted: function() {\n    this.documentTitle = document.title;\n\n    Vue.nextTick(() => this.mainLoop(1000));\n\n    this.$el.addEventListener(\"drop\", this.onDrop);\n    this.$el.addEventListener(\"dragover\", this.onDragOver);\n    this.$el.addEventListener(\"dragleave\", this.onDragLeave);\n\n    const debouncedSave = debounce(this.save, 250);\n    this.$watch(\"tasksById\", debouncedSave, { deep: true });\n    this.$watch(\"timeslotsById\", debouncedSave, { deep: true });\n  },\n\n  beforeDestroy: function() {\n    this.$el.removeEventListener(\"drop\", this.onDrop);\n    this.$el.removeEventListener(\"dragover\", this.onDragOver);\n    this.$el.removeEventListener(\"dragleave\", this.onDragLeave);\n  },\n};\n</script>\n\n<style lang=\"less\">\n@import \"styles/extends.less\";\n@import \"styles/variables.less\";\n\n* {\n  box-sizing: border-box;\n  font-family: Calibri, sans-serif;\n}\n\nhtml {\n  // Minimum font-size (usually 12px)\n  font-size: 75%;\n}\n\n@media screen and (min-width: 300px) {\n  html {\n    // Dynamic font size: scale between 12px and 16px\n    font-size: @dynamicFontSize;\n  }\n}\n\n@media screen and (min-width: 600px) {\n  html {\n    // Maximum font-size (usually 16px)\n    font-size: 100%;\n  }\n}\n\nbody {\n  padding: 0;\n  margin: 0;\n  background-color: @dark;\n}\n\nmain {\n  flex: 1;\n}\n\n#time-tracker {\n  padding: 2rem;\n  margin: 0 auto;\n  display: none;\n  max-width: 600px;\n  color: @dark;\n  background-color: white;\n\n  @media screen and (min-width: 600px) {\n    margin: 1rem auto;\n    border-radius: 0.5rem;\n  }\n\n  *[draggable=\"true\"] {\n    cursor: move;\n  }\n\n  &.loaded {\n    display: flex;\n    justify-content: center;\n  }\n\n  ul {\n    list-style-type: none;\n    padding: 0 0 0 1em;\n    margin: 0;\n  }\n\n  button {\n    font-size: 1em;\n    padding: 0.4em 0.8em;\n    background: 0 0;\n    border: 1px solid lightgray;\n    box-shadow: 1px 1px 1px 0 lightgray;\n    outline: 0;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  input {\n    outline: none;\n  }\n\n  .top-container {\n    position: relative;\n    justify-content: center;\n    display: flex;\n    align-items: center;\n\n    > .left,\n    > .right {\n      flex: 1;\n    }\n\n    @media screen and (max-width: 320px) {\n      > .left {\n        flex: 0;\n      }\n    }\n\n    > .center {\n      flex: 2;\n    }\n\n    .new-task {\n      &:extend(._shadow);\n\n      font-size: 1em;\n      padding: 0.8em 1.2em;\n      border: 1px solid @light;\n      width: 100%;\n\n      &:focus {\n        &:extend(._focus);\n      }\n    }\n\n    .total-duration {\n      color: #888a85;\n      text-align: right;\n      font-size: 1em;\n      margin-left: 0.5em;\n      visibility: hidden;\n\n      &.visible {\n        visibility: visible;\n      }\n\n      > .clock {\n        margin-left: 0.25em;\n      }\n    }\n  }\n\n  .remove-all {\n    background-color: white;\n    padding: 0.5rem 0.8rem;\n\n    .text {\n      font-size: 0.9rem;\n      margin-left: 0.4rem;\n      display: none;\n    }\n    &:hover,\n    &:focus {\n      &:extend(._focus);\n\n      .text {\n        display: inline;\n      }\n    }\n    &:active {\n      &:extend(._active);\n    }\n  }\n\n  &.dropzone {\n    &:extend(._dropzone);\n    border-radius: 0;\n  }\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=30752c4a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport App from \"./App.vue\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  render: h => h(App),\n}).$mount(\"#app\");\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}